{
  "version": 3,
  "sources": ["../../../../node_modules/urijs/src/punycode.js", "../../../../node_modules/urijs/src/IPv6.js", "../../../../node_modules/urijs/src/SecondLevelDomains.js", "../../../../node_modules/urijs/src/URI.js", "../../../../node_modules/@yaireo/tagify/dist/tagify.min.js", "../../../../node_modules/@hotwired/stimulus/dist/stimulus.js", "../../../javascript/controllers/avo_filter_controller.js", "../../../../node_modules/el-transition/index.js", "../../../javascript/controllers/avo_filters_controller.js", "../../../../node_modules/flatpickr/dist/esm/types/options.js", "../../../../node_modules/flatpickr/dist/esm/l10n/default.js", "../../../../node_modules/flatpickr/dist/esm/utils/index.js", "../../../../node_modules/flatpickr/dist/esm/utils/dom.js", "../../../../node_modules/flatpickr/dist/esm/utils/formatting.js", "../../../../node_modules/flatpickr/dist/esm/utils/dates.js", "../../../../node_modules/flatpickr/dist/esm/utils/polyfills.js", "../../../../node_modules/flatpickr/dist/esm/index.js", "../../../javascript/controllers/date_filter_controller.js", "../../../javascript/controllers/tags_filter_controller.js", "../../../javascript/controllers/index.js"],
  "sourcesContent": ["/*! https://mths.be/punycode v1.4.0 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n", "/*!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.19.11\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.IPv6 = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  /*\n  var _in = \"fe80:0000:0000:0000:0204:61ff:fe9d:f156\";\n  var _out = IPv6.best(_in);\n  var _expected = \"fe80::204:61ff:fe9d:f156\";\n\n  console.log(_in, _out, _expected, _out === _expected);\n  */\n\n  // save current IPv6 variable, if any\n  var _IPv6 = root && root.IPv6;\n\n  function bestPresentation(address) {\n    // based on:\n    // Javascript to test an IPv6 address for proper format, and to\n    // present the \"best text representation\" according to IETF Draft RFC at\n    // http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04\n    // 8 Feb 2010 Rich Brown, Dartware, LLC\n    // Please feel free to use this code as long as you provide a link to\n    // http://www.intermapper.com\n    // http://intermapper.com/support/tools/IPV6-Validator.aspx\n    // http://download.dartware.com/thirdparty/ipv6validator.js\n\n    var _address = address.toLowerCase();\n    var segments = _address.split(':');\n    var length = segments.length;\n    var total = 8;\n\n    // trim colons (:: or ::a:b:c\u2026 or \u2026a:b:c::)\n    if (segments[0] === '' && segments[1] === '' && segments[2] === '') {\n      // must have been ::\n      // remove first two items\n      segments.shift();\n      segments.shift();\n    } else if (segments[0] === '' && segments[1] === '') {\n      // must have been ::xxxx\n      // remove the first item\n      segments.shift();\n    } else if (segments[length - 1] === '' && segments[length - 2] === '') {\n      // must have been xxxx::\n      segments.pop();\n    }\n\n    length = segments.length;\n\n    // adjust total segments for IPv4 trailer\n    if (segments[length - 1].indexOf('.') !== -1) {\n      // found a \".\" which means IPv4\n      total = 7;\n    }\n\n    // fill empty segments them with \"0000\"\n    var pos;\n    for (pos = 0; pos < length; pos++) {\n      if (segments[pos] === '') {\n        break;\n      }\n    }\n\n    if (pos < total) {\n      segments.splice(pos, 1, '0000');\n      while (segments.length < total) {\n        segments.splice(pos, 0, '0000');\n      }\n    }\n\n    // strip leading zeros\n    var _segments;\n    for (var i = 0; i < total; i++) {\n      _segments = segments[i].split('');\n      for (var j = 0; j < 3 ; j++) {\n        if (_segments[0] === '0' && _segments.length > 1) {\n          _segments.splice(0,1);\n        } else {\n          break;\n        }\n      }\n\n      segments[i] = _segments.join('');\n    }\n\n    // find longest sequence of zeroes and coalesce them into one segment\n    var best = -1;\n    var _best = 0;\n    var _current = 0;\n    var current = -1;\n    var inzeroes = false;\n    // i; already declared\n\n    for (i = 0; i < total; i++) {\n      if (inzeroes) {\n        if (segments[i] === '0') {\n          _current += 1;\n        } else {\n          inzeroes = false;\n          if (_current > _best) {\n            best = current;\n            _best = _current;\n          }\n        }\n      } else {\n        if (segments[i] === '0') {\n          inzeroes = true;\n          current = i;\n          _current = 1;\n        }\n      }\n    }\n\n    if (_current > _best) {\n      best = current;\n      _best = _current;\n    }\n\n    if (_best > 1) {\n      segments.splice(best, _best, '');\n    }\n\n    length = segments.length;\n\n    // assemble remaining segments\n    var result = '';\n    if (segments[0] === '')  {\n      result = ':';\n    }\n\n    for (i = 0; i < length; i++) {\n      result += segments[i];\n      if (i === length - 1) {\n        break;\n      }\n\n      result += ':';\n    }\n\n    if (segments[length - 1] === '') {\n      result += ':';\n    }\n\n    return result;\n  }\n\n  function noConflict() {\n    /*jshint validthis: true */\n    if (root.IPv6 === this) {\n      root.IPv6 = _IPv6;\n    }\n\n    return this;\n  }\n\n  return {\n    best: bestPresentation,\n    noConflict: noConflict\n  };\n}));\n", "/*!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.19.11\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.SecondLevelDomains = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  // save current SecondLevelDomains variable, if any\n  var _SecondLevelDomains = root && root.SecondLevelDomains;\n\n  var SLD = {\n    // list of known Second Level Domains\n    // converted list of SLDs from https://github.com/gavingmiller/second-level-domains\n    // ----\n    // publicsuffix.org is more current and actually used by a couple of browsers internally.\n    // downside is it also contains domains like \"dyndns.org\" - which is fine for the security\n    // issues browser have to deal with (SOP for cookies, etc) - but is way overboard for URI.js\n    // ----\n    list: {\n      'ac':' com gov mil net org ',\n      'ae':' ac co gov mil name net org pro sch ',\n      'af':' com edu gov net org ',\n      'al':' com edu gov mil net org ',\n      'ao':' co ed gv it og pb ',\n      'ar':' com edu gob gov int mil net org tur ',\n      'at':' ac co gv or ',\n      'au':' asn com csiro edu gov id net org ',\n      'ba':' co com edu gov mil net org rs unbi unmo unsa untz unze ',\n      'bb':' biz co com edu gov info net org store tv ',\n      'bh':' biz cc com edu gov info net org ',\n      'bn':' com edu gov net org ',\n      'bo':' com edu gob gov int mil net org tv ',\n      'br':' adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ',\n      'bs':' com edu gov net org ',\n      'bz':' du et om ov rg ',\n      'ca':' ab bc mb nb nf nl ns nt nu on pe qc sk yk ',\n      'ck':' biz co edu gen gov info net org ',\n      'cn':' ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ',\n      'co':' com edu gov mil net nom org ',\n      'cr':' ac c co ed fi go or sa ',\n      'cy':' ac biz com ekloges gov ltd name net org parliament press pro tm ',\n      'do':' art com edu gob gov mil net org sld web ',\n      'dz':' art asso com edu gov net org pol ',\n      'ec':' com edu fin gov info med mil net org pro ',\n      'eg':' com edu eun gov mil name net org sci ',\n      'er':' com edu gov ind mil net org rochest w ',\n      'es':' com edu gob nom org ',\n      'et':' biz com edu gov info name net org ',\n      'fj':' ac biz com info mil name net org pro ',\n      'fk':' ac co gov net nom org ',\n      'fr':' asso com f gouv nom prd presse tm ',\n      'gg':' co net org ',\n      'gh':' com edu gov mil org ',\n      'gn':' ac com gov net org ',\n      'gr':' com edu gov mil net org ',\n      'gt':' com edu gob ind mil net org ',\n      'gu':' com edu gov net org ',\n      'hk':' com edu gov idv net org ',\n      'hu':' 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ',\n      'id':' ac co go mil net or sch web ',\n      'il':' ac co gov idf k12 muni net org ',\n      'in':' ac co edu ernet firm gen gov i ind mil net nic org res ',\n      'iq':' com edu gov i mil net org ',\n      'ir':' ac co dnssec gov i id net org sch ',\n      'it':' edu gov ',\n      'je':' co net org ',\n      'jo':' com edu gov mil name net org sch ',\n      'jp':' ac ad co ed go gr lg ne or ',\n      'ke':' ac co go info me mobi ne or sc ',\n      'kh':' com edu gov mil net org per ',\n      'ki':' biz com de edu gov info mob net org tel ',\n      'km':' asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ',\n      'kn':' edu gov net org ',\n      'kr':' ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ',\n      'kw':' com edu gov net org ',\n      'ky':' com edu gov net org ',\n      'kz':' com edu gov mil net org ',\n      'lb':' com edu gov net org ',\n      'lk':' assn com edu gov grp hotel int ltd net ngo org sch soc web ',\n      'lr':' com edu gov net org ',\n      'lv':' asn com conf edu gov id mil net org ',\n      'ly':' com edu gov id med net org plc sch ',\n      'ma':' ac co gov m net org press ',\n      'mc':' asso tm ',\n      'me':' ac co edu gov its net org priv ',\n      'mg':' com edu gov mil nom org prd tm ',\n      'mk':' com edu gov inf name net org pro ',\n      'ml':' com edu gov net org presse ',\n      'mn':' edu gov org ',\n      'mo':' com edu gov net org ',\n      'mt':' com edu gov net org ',\n      'mv':' aero biz com coop edu gov info int mil museum name net org pro ',\n      'mw':' ac co com coop edu gov int museum net org ',\n      'mx':' com edu gob net org ',\n      'my':' com edu gov mil name net org sch ',\n      'nf':' arts com firm info net other per rec store web ',\n      'ng':' biz com edu gov mil mobi name net org sch ',\n      'ni':' ac co com edu gob mil net nom org ',\n      'np':' com edu gov mil net org ',\n      'nr':' biz com edu gov info net org ',\n      'om':' ac biz co com edu gov med mil museum net org pro sch ',\n      'pe':' com edu gob mil net nom org sld ',\n      'ph':' com edu gov i mil net ngo org ',\n      'pk':' biz com edu fam gob gok gon gop gos gov net org web ',\n      'pl':' art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ',\n      'pr':' ac biz com edu est gov info isla name net org pro prof ',\n      'ps':' com edu gov net org plo sec ',\n      'pw':' belau co ed go ne or ',\n      'ro':' arts com firm info nom nt org rec store tm www ',\n      'rs':' ac co edu gov in org ',\n      'sb':' com edu gov net org ',\n      'sc':' com edu gov net org ',\n      'sh':' co com edu gov net nom org ',\n      'sl':' com edu gov net org ',\n      'st':' co com consulado edu embaixada gov mil net org principe saotome store ',\n      'sv':' com edu gob org red ',\n      'sz':' ac co org ',\n      'tr':' av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ',\n      'tt':' aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ',\n      'tw':' club com ebiz edu game gov idv mil net org ',\n      'mu':' ac co com gov net or org ',\n      'mz':' ac co edu gov org ',\n      'na':' co com ',\n      'nz':' ac co cri geek gen govt health iwi maori mil net org parliament school ',\n      'pa':' abo ac com edu gob ing med net nom org sld ',\n      'pt':' com edu gov int net nome org publ ',\n      'py':' com edu gov mil net org ',\n      'qa':' com edu gov mil net org ',\n      're':' asso com nom ',\n      'ru':' ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ',\n      'rw':' ac co com edu gouv gov int mil net ',\n      'sa':' com edu gov med net org pub sch ',\n      'sd':' com edu gov info med net org tv ',\n      'se':' a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ',\n      'sg':' com edu gov idn net org per ',\n      'sn':' art com edu gouv org perso univ ',\n      'sy':' com edu gov mil net news org ',\n      'th':' ac co go in mi net or ',\n      'tj':' ac biz co com edu go gov info int mil name net nic org test web ',\n      'tn':' agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ',\n      'tz':' ac co go ne or ',\n      'ua':' biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ',\n      'ug':' ac co go ne or org sc ',\n      'uk':' ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ',\n      'us':' dni fed isa kids nsn ',\n      'uy':' com edu gub mil net org ',\n      've':' co com edu gob info mil net org web ',\n      'vi':' co com k12 net org ',\n      'vn':' ac biz com edu gov health info int name net org pro ',\n      'ye':' co com gov ltd me net org plc ',\n      'yu':' ac co edu gov org ',\n      'za':' ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ',\n      'zm':' ac co com edu gov net org sch ',\n      // https://en.wikipedia.org/wiki/CentralNic#Second-level_domains\n      'com': 'ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ',\n      'net': 'gb jp se uk ',\n      'org': 'ae',\n      'de': 'com '\n    },\n    // gorhill 2013-10-25: Using indexOf() instead Regexp(). Significant boost\n    // in both performance and memory footprint. No initialization required.\n    // http://jsperf.com/uri-js-sld-regex-vs-binary-search/4\n    // Following methods use lastIndexOf() rather than array.split() in order\n    // to avoid any memory allocations.\n    has: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') >= 0;\n    },\n    is: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset >= 0) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(0, tldOffset) + ' ') >= 0;\n    },\n    get: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return null;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return null;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return null;\n      }\n      if (sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') < 0) {\n        return null;\n      }\n      return domain.slice(sldOffset+1);\n    },\n    noConflict: function(){\n      if (root.SecondLevelDomains === this) {\n        root.SecondLevelDomains = _SecondLevelDomains;\n      }\n      return this;\n    }\n  };\n\n  return SLD;\n}));\n", "/*!\n * URI.js - Mutating URLs\n *\n * Version: 1.19.11\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);\n  } else {\n    // Browser globals (root is window)\n    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);\n  }\n}(this, function (punycode, IPv6, SLD, root) {\n  'use strict';\n  /*global location, escape, unescape */\n  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase\n  /*jshint camelcase: false */\n\n  // save current URI variable, if any\n  var _URI = root && root.URI;\n\n  function URI(url, base) {\n    var _urlSupplied = arguments.length >= 1;\n    var _baseSupplied = arguments.length >= 2;\n\n    // Allow instantiation without the 'new' keyword\n    if (!(this instanceof URI)) {\n      if (_urlSupplied) {\n        if (_baseSupplied) {\n          return new URI(url, base);\n        }\n\n        return new URI(url);\n      }\n\n      return new URI();\n    }\n\n    if (url === undefined) {\n      if (_urlSupplied) {\n        throw new TypeError('undefined is not a valid argument for URI');\n      }\n\n      if (typeof location !== 'undefined') {\n        url = location.href + '';\n      } else {\n        url = '';\n      }\n    }\n\n    if (url === null) {\n      if (_urlSupplied) {\n        throw new TypeError('null is not a valid argument for URI');\n      }\n    }\n\n    this.href(url);\n\n    // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor\n    if (base !== undefined) {\n      return this.absoluteTo(base);\n    }\n\n    return this;\n  }\n\n  function isInteger(value) {\n    return /^[0-9]+$/.test(value);\n  }\n\n  URI.version = '1.19.11';\n\n  var p = URI.prototype;\n  var hasOwn = Object.prototype.hasOwnProperty;\n\n  function escapeRegEx(string) {\n    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963\n    return string.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }\n\n  function getType(value) {\n    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value\n    if (value === undefined) {\n      return 'Undefined';\n    }\n\n    return String(Object.prototype.toString.call(value)).slice(8, -1);\n  }\n\n  function isArray(obj) {\n    return getType(obj) === 'Array';\n  }\n\n  function filterArrayValues(data, value) {\n    var lookup = {};\n    var i, length;\n\n    if (getType(value) === 'RegExp') {\n      lookup = null;\n    } else if (isArray(value)) {\n      for (i = 0, length = value.length; i < length; i++) {\n        lookup[value[i]] = true;\n      }\n    } else {\n      lookup[value] = true;\n    }\n\n    for (i = 0, length = data.length; i < length; i++) {\n      /*jshint laxbreak: true */\n      var _match = lookup && lookup[data[i]] !== undefined\n        || !lookup && value.test(data[i]);\n      /*jshint laxbreak: false */\n      if (_match) {\n        data.splice(i, 1);\n        length--;\n        i--;\n      }\n    }\n\n    return data;\n  }\n\n  function arrayContains(list, value) {\n    var i, length;\n\n    // value may be string, number, array, regexp\n    if (isArray(value)) {\n      // Note: this can be optimized to O(n) (instead of current O(m * n))\n      for (i = 0, length = value.length; i < length; i++) {\n        if (!arrayContains(list, value[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var _type = getType(value);\n    for (i = 0, length = list.length; i < length; i++) {\n      if (_type === 'RegExp') {\n        if (typeof list[i] === 'string' && list[i].match(value)) {\n          return true;\n        }\n      } else if (list[i] === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function arraysEqual(one, two) {\n    if (!isArray(one) || !isArray(two)) {\n      return false;\n    }\n\n    // arrays can't be equal if they have different amount of content\n    if (one.length !== two.length) {\n      return false;\n    }\n\n    one.sort();\n    two.sort();\n\n    for (var i = 0, l = one.length; i < l; i++) {\n      if (one[i] !== two[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function trimSlashes(text) {\n    var trim_expression = /^\\/+|\\/+$/g;\n    return text.replace(trim_expression, '');\n  }\n\n  URI._parts = function() {\n    return {\n      protocol: null,\n      username: null,\n      password: null,\n      hostname: null,\n      urn: null,\n      port: null,\n      path: null,\n      query: null,\n      fragment: null,\n      // state\n      preventInvalidHostname: URI.preventInvalidHostname,\n      duplicateQueryParameters: URI.duplicateQueryParameters,\n      escapeQuerySpace: URI.escapeQuerySpace\n    };\n  };\n  // state: throw on invalid hostname\n  // see https://github.com/medialize/URI.js/pull/345\n  // and https://github.com/medialize/URI.js/issues/354\n  URI.preventInvalidHostname = false;\n  // state: allow duplicate query parameters (a=1&a=1)\n  URI.duplicateQueryParameters = false;\n  // state: replaces + with %20 (space in query strings)\n  URI.escapeQuerySpace = true;\n  // static properties\n  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;\n  URI.idn_expression = /[^a-z0-9\\._-]/i;\n  URI.punycode_expression = /(xn--)/i;\n  // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?\n  URI.ip4_expression = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\n  // credits to Rich Brown\n  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096\n  // specification: http://www.ietf.org/rfc/rfc4291.txt\n  URI.ip6_expression = /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/;\n  // expression used is \"gruber revised\" (@gruber v2) determined to be the\n  // best solution in a regex-golf we did a couple of ages ago at\n  // * http://mathiasbynens.be/demo/url-regex\n  // * http://rodneyrehm.de/t/url-regex.html\n  URI.find_uri_expression = /\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?\u00AB\u00BB\u201C\u201D\u2018\u2019]))/ig;\n  URI.findUri = {\n    // valid \"scheme://\" or \"www.\"\n    start: /\\b(?:([a-z][a-z0-9.+-]*:\\/\\/)|www\\.)/gi,\n    // everything up to the next whitespace\n    end: /[\\s\\r\\n]|$/,\n    // trim trailing punctuation captured by end RegExp\n    trim: /[`!()\\[\\]{};:'\".,<>?\u00AB\u00BB\u201C\u201D\u201E\u2018\u2019]+$/,\n    // balanced parens inclusion (), [], {}, <>\n    parens: /(\\([^\\)]*\\)|\\[[^\\]]*\\]|\\{[^}]*\\}|<[^>]*>)/g,\n  };\n  URI.leading_whitespace_expression = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  // https://infra.spec.whatwg.org/#ascii-tab-or-newline\n  URI.ascii_tab_whitespace = /[\\u0009\\u000A\\u000D]+/g\n  // http://www.iana.org/assignments/uri-schemes.html\n  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports\n  URI.defaultPorts = {\n    http: '80',\n    https: '443',\n    ftp: '21',\n    gopher: '70',\n    ws: '80',\n    wss: '443'\n  };\n  // list of protocols which always require a hostname\n  URI.hostProtocols = [\n    'http',\n    'https'\n  ];\n\n  // allowed hostname characters according to RFC 3986\n  // ALPHA DIGIT \"-\" \".\" \"_\" \"~\" \"!\" \"$\" \"&\" \"'\" \"(\" \")\" \"*\" \"+\" \",\" \";\" \"=\" %encoded\n  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . - _\n  URI.invalid_hostname_characters = /[^a-zA-Z0-9\\.\\-:_]/;\n  // map DOM Elements to their URI attribute\n  URI.domAttributes = {\n    'a': 'href',\n    'blockquote': 'cite',\n    'link': 'href',\n    'base': 'href',\n    'script': 'src',\n    'form': 'action',\n    'img': 'src',\n    'area': 'href',\n    'iframe': 'src',\n    'embed': 'src',\n    'source': 'src',\n    'track': 'src',\n    'input': 'src', // but only if type=\"image\"\n    'audio': 'src',\n    'video': 'src'\n  };\n  URI.getDomAttribute = function(node) {\n    if (!node || !node.nodeName) {\n      return undefined;\n    }\n\n    var nodeName = node.nodeName.toLowerCase();\n    // <input> should only expose src for type=\"image\"\n    if (nodeName === 'input' && node.type !== 'image') {\n      return undefined;\n    }\n\n    return URI.domAttributes[nodeName];\n  };\n\n  function escapeForDumbFirefox36(value) {\n    // https://github.com/medialize/URI.js/issues/91\n    return escape(value);\n  }\n\n  // encoding / decoding according to RFC3986\n  function strictEncodeURIComponent(string) {\n    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent\n    return encodeURIComponent(string)\n      .replace(/[!'()*]/g, escapeForDumbFirefox36)\n      .replace(/\\*/g, '%2A');\n  }\n  URI.encode = strictEncodeURIComponent;\n  URI.decode = decodeURIComponent;\n  URI.iso8859 = function() {\n    URI.encode = escape;\n    URI.decode = unescape;\n  };\n  URI.unicode = function() {\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = decodeURIComponent;\n  };\n  URI.characters = {\n    pathname: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,\n        map: {\n          // -._~!'()*\n          '%24': '$',\n          '%26': '&',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%3A': ':',\n          '%40': '@'\n        }\n      },\n      decode: {\n        expression: /[\\/\\?#]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23'\n        }\n      }\n    },\n    reserved: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,\n        map: {\n          // gen-delims\n          '%3A': ':',\n          '%2F': '/',\n          '%3F': '?',\n          '%23': '#',\n          '%5B': '[',\n          '%5D': ']',\n          '%40': '@',\n          // sub-delims\n          '%21': '!',\n          '%24': '$',\n          '%26': '&',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '='\n        }\n      }\n    },\n    urnpath: {\n      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable\n      // for usage in a URN. RFC2141 also calls out \"-\", \".\", and \"_\" as acceptable characters, but\n      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also\n      // note that the colon character is not featured in the encoding map; this is because URI.js\n      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it\n      // should not appear unencoded in a segment itself.\n      // See also the note above about RFC3986 and capitalalized hex digits.\n      encode: {\n        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,\n        map: {\n          '%21': '!',\n          '%24': '$',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%40': '@'\n        }\n      },\n      // These characters are the characters called out by RFC2141 as \"reserved\" characters that\n      // should never appear in a URN, plus the colon character (see note above).\n      decode: {\n        expression: /[\\/\\?#:]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23',\n          ':': '%3A'\n        }\n      }\n    }\n  };\n  URI.encodeQuery = function(string, escapeQuerySpace) {\n    var escaped = URI.encode(string + '');\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;\n  };\n  URI.decodeQuery = function(string, escapeQuerySpace) {\n    string += '';\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    try {\n      return URI.decode(escapeQuerySpace ? string.replace(/\\+/g, '%20') : string);\n    } catch(e) {\n      // we're not going to mess with weird encodings,\n      // give up and return the undecoded original string\n      // see https://github.com/medialize/URI.js/issues/87\n      // see https://github.com/medialize/URI.js/issues/92\n      return string;\n    }\n  };\n  // generate encode/decode path functions\n  var _parts = {'encode':'encode', 'decode':'decode'};\n  var _part;\n  var generateAccessor = function(_group, _part) {\n    return function(string) {\n      try {\n        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function(c) {\n          return URI.characters[_group][_part].map[c];\n        });\n      } catch (e) {\n        // we're not going to mess with weird encodings,\n        // give up and return the undecoded original string\n        // see https://github.com/medialize/URI.js/issues/87\n        // see https://github.com/medialize/URI.js/issues/92\n        return string;\n      }\n    };\n  };\n\n  for (_part in _parts) {\n    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);\n    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);\n  }\n\n  var generateSegmentedPathFunction = function(_sep, _codingFuncName, _innerCodingFuncName) {\n    return function(string) {\n      // Why pass in names of functions, rather than the function objects themselves? The\n      // definitions of some functions (but in particular, URI.decode) will occasionally change due\n      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure\n      // that the functions we use here are \"fresh\".\n      var actualCodingFunc;\n      if (!_innerCodingFuncName) {\n        actualCodingFunc = URI[_codingFuncName];\n      } else {\n        actualCodingFunc = function(string) {\n          return URI[_codingFuncName](URI[_innerCodingFuncName](string));\n        };\n      }\n\n      var segments = (string + '').split(_sep);\n\n      for (var i = 0, length = segments.length; i < length; i++) {\n        segments[i] = actualCodingFunc(segments[i]);\n      }\n\n      return segments.join(_sep);\n    };\n  };\n\n  // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.\n  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');\n  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');\n  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');\n  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');\n\n  URI.encodeReserved = generateAccessor('reserved', 'encode');\n\n  URI.parse = function(string, parts) {\n    var pos;\n    if (!parts) {\n      parts = {\n        preventInvalidHostname: URI.preventInvalidHostname\n      };\n    }\n\n    string = string.replace(URI.leading_whitespace_expression, '')\n    // https://infra.spec.whatwg.org/#ascii-tab-or-newline\n    string = string.replace(URI.ascii_tab_whitespace, '')\n\n    // [protocol\"://\"[username[\":\"password]\"@\"]hostname[\":\"port]\"/\"?][path][\"?\"querystring][\"#\"fragment]\n\n    // extract fragment\n    pos = string.indexOf('#');\n    if (pos > -1) {\n      // escaping?\n      parts.fragment = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract query\n    pos = string.indexOf('?');\n    if (pos > -1) {\n      // escaping?\n      parts.query = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // slashes and backslashes have lost all meaning for the web protocols (https, http, wss, ws)\n    string = string.replace(/^(https?|ftp|wss?)?:+[/\\\\]*/i, '$1://');\n    // slashes and backslashes have lost all meaning for scheme relative URLs\n    string = string.replace(/^[/\\\\]{2,}/i, '//');\n\n    // extract protocol\n    if (string.substring(0, 2) === '//') {\n      // relative-scheme\n      parts.protocol = null;\n      string = string.substring(2);\n      // extract \"user:pass@host:port\"\n      string = URI.parseAuthority(string, parts);\n    } else {\n      pos = string.indexOf(':');\n      if (pos > -1) {\n        parts.protocol = string.substring(0, pos) || null;\n        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {\n          // : may be within the path\n          parts.protocol = undefined;\n        } else if (string.substring(pos + 1, pos + 3).replace(/\\\\/g, '/') === '//') {\n          string = string.substring(pos + 3);\n\n          // extract \"user:pass@host:port\"\n          string = URI.parseAuthority(string, parts);\n        } else {\n          string = string.substring(pos + 1);\n          parts.urn = true;\n        }\n      }\n    }\n\n    // what's left must be the path\n    parts.path = string;\n\n    // and we're done\n    return parts;\n  };\n  URI.parseHost = function(string, parts) {\n    if (!string) {\n      string = '';\n    }\n\n    // Copy chrome, IE, opera backslash-handling behavior.\n    // Back slashes before the query string get converted to forward slashes\n    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124\n    // See: https://code.google.com/p/chromium/issues/detail?id=25916\n    // https://github.com/medialize/URI.js/pull/233\n    string = string.replace(/\\\\/g, '/');\n\n    // extract host:port\n    var pos = string.indexOf('/');\n    var bracketPos;\n    var t;\n\n    if (pos === -1) {\n      pos = string.length;\n    }\n\n    if (string.charAt(0) === '[') {\n      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6\n      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts\n      // IPv6+port in the format [2001:db8::1]:80 (for the time being)\n      bracketPos = string.indexOf(']');\n      parts.hostname = string.substring(1, bracketPos) || null;\n      parts.port = string.substring(bracketPos + 2, pos) || null;\n      if (parts.port === '/') {\n        parts.port = null;\n      }\n    } else {\n      var firstColon = string.indexOf(':');\n      var firstSlash = string.indexOf('/');\n      var nextColon = string.indexOf(':', firstColon + 1);\n      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {\n        // IPv6 host contains multiple colons - but no port\n        // this notation is actually not allowed by RFC 3986, but we're a liberal parser\n        parts.hostname = string.substring(0, pos) || null;\n        parts.port = null;\n      } else {\n        t = string.substring(0, pos).split(':');\n        parts.hostname = t[0] || null;\n        parts.port = t[1] || null;\n      }\n    }\n\n    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {\n      pos++;\n      string = '/' + string;\n    }\n\n    if (parts.preventInvalidHostname) {\n      URI.ensureValidHostname(parts.hostname, parts.protocol);\n    }\n\n    if (parts.port) {\n      URI.ensureValidPort(parts.port);\n    }\n\n    return string.substring(pos) || '/';\n  };\n  URI.parseAuthority = function(string, parts) {\n    string = URI.parseUserinfo(string, parts);\n    return URI.parseHost(string, parts);\n  };\n  URI.parseUserinfo = function(string, parts) {\n    // extract username:password\n    var _string = string\n    var firstBackSlash = string.indexOf('\\\\');\n    if (firstBackSlash !== -1) {\n      string = string.replace(/\\\\/g, '/')\n    }\n    var firstSlash = string.indexOf('/');\n    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);\n    var t;\n\n    // authority@ must come before /path or \\path\n    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {\n      t = string.substring(0, pos).split(':');\n      parts.username = t[0] ? URI.decode(t[0]) : null;\n      t.shift();\n      parts.password = t[0] ? URI.decode(t.join(':')) : null;\n      string = _string.substring(pos + 1);\n    } else {\n      parts.username = null;\n      parts.password = null;\n    }\n\n    return string;\n  };\n  URI.parseQuery = function(string, escapeQuerySpace) {\n    if (!string) {\n      return {};\n    }\n\n    // throw out the funky business - \"?\"[name\"=\"value\"&\"]+\n    string = string.replace(/&+/g, '&').replace(/^\\?*&*|&+$/g, '');\n\n    if (!string) {\n      return {};\n    }\n\n    var items = {};\n    var splits = string.split('&');\n    var length = splits.length;\n    var v, name, value;\n\n    for (var i = 0; i < length; i++) {\n      v = splits[i].split('=');\n      name = URI.decodeQuery(v.shift(), escapeQuerySpace);\n      // no \"=\" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters\n      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;\n\n      if (name === '__proto__') {\n        // ignore attempt at exploiting JavaScript internals\n        continue;\n      } else if (hasOwn.call(items, name)) {\n        if (typeof items[name] === 'string' || items[name] === null) {\n          items[name] = [items[name]];\n        }\n\n        items[name].push(value);\n      } else {\n        items[name] = value;\n      }\n    }\n\n    return items;\n  };\n\n  URI.build = function(parts) {\n    var t = '';\n    var requireAbsolutePath = false\n\n    if (parts.protocol) {\n      t += parts.protocol + ':';\n    }\n\n    if (!parts.urn && (t || parts.hostname)) {\n      t += '//';\n      requireAbsolutePath = true\n    }\n\n    t += (URI.buildAuthority(parts) || '');\n\n    if (typeof parts.path === 'string') {\n      if (parts.path.charAt(0) !== '/' && requireAbsolutePath) {\n        t += '/';\n      }\n\n      t += parts.path;\n    }\n\n    if (typeof parts.query === 'string' && parts.query) {\n      t += '?' + parts.query;\n    }\n\n    if (typeof parts.fragment === 'string' && parts.fragment) {\n      t += '#' + parts.fragment;\n    }\n    return t;\n  };\n  URI.buildHost = function(parts) {\n    var t = '';\n\n    if (!parts.hostname) {\n      return '';\n    } else if (URI.ip6_expression.test(parts.hostname)) {\n      t += '[' + parts.hostname + ']';\n    } else {\n      t += parts.hostname;\n    }\n\n    if (parts.port) {\n      t += ':' + parts.port;\n    }\n\n    return t;\n  };\n  URI.buildAuthority = function(parts) {\n    return URI.buildUserinfo(parts) + URI.buildHost(parts);\n  };\n  URI.buildUserinfo = function(parts) {\n    var t = '';\n\n    if (parts.username) {\n      t += URI.encode(parts.username);\n    }\n\n    if (parts.password) {\n      t += ':' + URI.encode(parts.password);\n    }\n\n    if (t) {\n      t += '@';\n    }\n\n    return t;\n  };\n  URI.buildQuery = function(data, duplicateQueryParameters, escapeQuerySpace) {\n    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html\n    // being \u00BB-._~!$&'()*+,;=:@/?\u00AB %HEX and alnum are allowed\n    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!\n    // URI.js treats the query string as being application/x-www-form-urlencoded\n    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type\n\n    var t = '';\n    var unique, key, i, length;\n    for (key in data) {\n      if (key === '__proto__') {\n        // ignore attempt at exploiting JavaScript internals\n        continue;\n      } else if (hasOwn.call(data, key)) {\n        if (isArray(data[key])) {\n          unique = {};\n          for (i = 0, length = data[key].length; i < length; i++) {\n            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {\n              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);\n              if (duplicateQueryParameters !== true) {\n                unique[data[key][i] + ''] = true;\n              }\n            }\n          }\n        } else if (data[key] !== undefined) {\n          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);\n        }\n      }\n    }\n\n    return t.substring(1);\n  };\n  URI.buildQueryParameter = function(name, value, escapeQuerySpace) {\n    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded\n    // don't append \"=\" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization\n    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');\n  };\n\n  URI.addQuery = function(data, name, value) {\n    if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.addQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (data[name] === undefined) {\n        data[name] = value;\n        return;\n      } else if (typeof data[name] === 'string') {\n        data[name] = [data[name]];\n      }\n\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      data[name] = (data[name] || []).concat(value);\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n  };\n\n  URI.setQuery = function(data, name, value) {\n    if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.setQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      data[name] = value === undefined ? null : value;\n    } else {\n      throw new TypeError('URI.setQuery() accepts an object, string as the name parameter');\n    }\n  };\n\n  URI.removeQuery = function(data, name, value) {\n    var i, length, key;\n\n    if (isArray(name)) {\n      for (i = 0, length = name.length; i < length; i++) {\n        data[name[i]] = undefined;\n      }\n    } else if (getType(name) === 'RegExp') {\n      for (key in data) {\n        if (name.test(key)) {\n          data[key] = undefined;\n        }\n      }\n    } else if (typeof name === 'object') {\n      for (key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.removeQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (value !== undefined) {\n        if (getType(value) === 'RegExp') {\n          if (!isArray(data[name]) && value.test(data[name])) {\n            data[name] = undefined;\n          } else {\n            data[name] = filterArrayValues(data[name], value);\n          }\n        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {\n          data[name] = undefined;\n        } else if (isArray(data[name])) {\n          data[name] = filterArrayValues(data[name], value);\n        }\n      } else {\n        data[name] = undefined;\n      }\n    } else {\n      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');\n    }\n  };\n  URI.hasQuery = function(data, name, value, withinArray) {\n    switch (getType(name)) {\n      case 'String':\n        // Nothing to do here\n        break;\n\n      case 'RegExp':\n        for (var key in data) {\n          if (hasOwn.call(data, key)) {\n            if (name.test(key) && (value === undefined || URI.hasQuery(data, key, value))) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n\n      case 'Object':\n        for (var _key in name) {\n          if (hasOwn.call(name, _key)) {\n            if (!URI.hasQuery(data, _key, name[_key])) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts a string, regular expression or object as the name parameter');\n    }\n\n    switch (getType(value)) {\n      case 'Undefined':\n        // true if exists (but may be empty)\n        return name in data; // data[name] !== undefined;\n\n      case 'Boolean':\n        // true if exists and non-empty\n        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);\n        return value === _booly;\n\n      case 'Function':\n        // allow complex comparison\n        return !!value(data[name], name, data);\n\n      case 'Array':\n        if (!isArray(data[name])) {\n          return false;\n        }\n\n        var op = withinArray ? arrayContains : arraysEqual;\n        return op(data[name], value);\n\n      case 'RegExp':\n        if (!isArray(data[name])) {\n          return Boolean(data[name] && data[name].match(value));\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      case 'Number':\n        value = String(value);\n        /* falls through */\n      case 'String':\n        if (!isArray(data[name])) {\n          return data[name] === value;\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');\n    }\n  };\n\n\n  URI.joinPaths = function() {\n    var input = [];\n    var segments = [];\n    var nonEmptySegments = 0;\n\n    for (var i = 0; i < arguments.length; i++) {\n      var url = new URI(arguments[i]);\n      input.push(url);\n      var _segments = url.segment();\n      for (var s = 0; s < _segments.length; s++) {\n        if (typeof _segments[s] === 'string') {\n          segments.push(_segments[s]);\n        }\n\n        if (_segments[s]) {\n          nonEmptySegments++;\n        }\n      }\n    }\n\n    if (!segments.length || !nonEmptySegments) {\n      return new URI('');\n    }\n\n    var uri = new URI('').segment(segments);\n\n    if (input[0].path() === '' || input[0].path().slice(0, 1) === '/') {\n      uri.path('/' + uri.path());\n    }\n\n    return uri.normalize();\n  };\n\n  URI.commonPath = function(one, two) {\n    var length = Math.min(one.length, two.length);\n    var pos;\n\n    // find first non-matching character\n    for (pos = 0; pos < length; pos++) {\n      if (one.charAt(pos) !== two.charAt(pos)) {\n        pos--;\n        break;\n      }\n    }\n\n    if (pos < 1) {\n      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';\n    }\n\n    // revert to last /\n    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {\n      pos = one.substring(0, pos).lastIndexOf('/');\n    }\n\n    return one.substring(0, pos + 1);\n  };\n\n  URI.withinString = function(string, callback, options) {\n    options || (options = {});\n    var _start = options.start || URI.findUri.start;\n    var _end = options.end || URI.findUri.end;\n    var _trim = options.trim || URI.findUri.trim;\n    var _parens = options.parens || URI.findUri.parens;\n    var _attributeOpen = /[a-z0-9-]=[\"']?$/i;\n\n    _start.lastIndex = 0;\n    while (true) {\n      var match = _start.exec(string);\n      if (!match) {\n        break;\n      }\n\n      var start = match.index;\n      if (options.ignoreHtml) {\n        // attribut(e=[\"']?$)\n        var attributeOpen = string.slice(Math.max(start - 3, 0), start);\n        if (attributeOpen && _attributeOpen.test(attributeOpen)) {\n          continue;\n        }\n      }\n\n      var end = start + string.slice(start).search(_end);\n      var slice = string.slice(start, end);\n      // make sure we include well balanced parens\n      var parensEnd = -1;\n      while (true) {\n        var parensMatch = _parens.exec(slice);\n        if (!parensMatch) {\n          break;\n        }\n\n        var parensMatchEnd = parensMatch.index + parensMatch[0].length;\n        parensEnd = Math.max(parensEnd, parensMatchEnd);\n      }\n\n      if (parensEnd > -1) {\n        slice = slice.slice(0, parensEnd) + slice.slice(parensEnd).replace(_trim, '');\n      } else {\n        slice = slice.replace(_trim, '');\n      }\n\n      if (slice.length <= match[0].length) {\n        // the extract only contains the starting marker of a URI,\n        // e.g. \"www\" or \"http://\"\n        continue;\n      }\n\n      if (options.ignore && options.ignore.test(slice)) {\n        continue;\n      }\n\n      end = start + slice.length;\n      var result = callback(slice, start, end, string);\n      if (result === undefined) {\n        _start.lastIndex = end;\n        continue;\n      }\n\n      result = String(result);\n      string = string.slice(0, start) + result + string.slice(end);\n      _start.lastIndex = start + result.length;\n    }\n\n    _start.lastIndex = 0;\n    return string;\n  };\n\n  URI.ensureValidHostname = function(v, protocol) {\n    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)\n    // they are not part of DNS and therefore ignored by URI.js\n\n    var hasHostname = !!v; // not null and not an empty string\n    var hasProtocol = !!protocol;\n    var rejectEmptyHostname = false;\n\n    if (hasProtocol) {\n      rejectEmptyHostname = arrayContains(URI.hostProtocols, protocol);\n    }\n\n    if (rejectEmptyHostname && !hasHostname) {\n      throw new TypeError('Hostname cannot be empty, if protocol is ' + protocol);\n    } else if (v && v.match(URI.invalid_hostname_characters)) {\n      // test punycode\n      if (!punycode) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');\n      }\n      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-:_]');\n      }\n    }\n  };\n\n  URI.ensureValidPort = function (v) {\n    if (!v) {\n      return;\n    }\n\n    var port = Number(v);\n    if (isInteger(port) && (port > 0) && (port < 65536)) {\n      return;\n    }\n\n    throw new TypeError('Port \"' + v + '\" is not a valid port');\n  };\n\n  // noConflict\n  URI.noConflict = function(removeAll) {\n    if (removeAll) {\n      var unconflicted = {\n        URI: this.noConflict()\n      };\n\n      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {\n        unconflicted.URITemplate = root.URITemplate.noConflict();\n      }\n\n      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {\n        unconflicted.IPv6 = root.IPv6.noConflict();\n      }\n\n      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {\n        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();\n      }\n\n      return unconflicted;\n    } else if (root.URI === this) {\n      root.URI = _URI;\n    }\n\n    return this;\n  };\n\n  p.build = function(deferBuild) {\n    if (deferBuild === true) {\n      this._deferred_build = true;\n    } else if (deferBuild === undefined || this._deferred_build) {\n      this._string = URI.build(this._parts);\n      this._deferred_build = false;\n    }\n\n    return this;\n  };\n\n  p.clone = function() {\n    return new URI(this);\n  };\n\n  p.valueOf = p.toString = function() {\n    return this.build(false)._string;\n  };\n\n\n  function generateSimpleAccessor(_part){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        this._parts[_part] = v || null;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  function generatePrefixAccessor(_part, _key){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        if (v !== null) {\n          v = v + '';\n          if (v.charAt(0) === _key) {\n            v = v.substring(1);\n          }\n        }\n\n        this._parts[_part] = v;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  p.protocol = generateSimpleAccessor('protocol');\n  p.username = generateSimpleAccessor('username');\n  p.password = generateSimpleAccessor('password');\n  p.hostname = generateSimpleAccessor('hostname');\n  p.port = generateSimpleAccessor('port');\n  p.query = generatePrefixAccessor('query', '?');\n  p.fragment = generatePrefixAccessor('fragment', '#');\n\n  p.search = function(v, build) {\n    var t = this.query(v, build);\n    return typeof t === 'string' && t.length ? ('?' + t) : t;\n  };\n  p.hash = function(v, build) {\n    var t = this.fragment(v, build);\n    return typeof t === 'string' && t.length ? ('#' + t) : t;\n  };\n\n  p.pathname = function(v, build) {\n    if (v === undefined || v === true) {\n      var res = this._parts.path || (this._parts.hostname ? '/' : '');\n      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;\n    } else {\n      if (this._parts.urn) {\n        this._parts.path = v ? URI.recodeUrnPath(v) : '';\n      } else {\n        this._parts.path = v ? URI.recodePath(v) : '/';\n      }\n      this.build(!build);\n      return this;\n    }\n  };\n  p.path = p.pathname;\n  p.href = function(href, build) {\n    var key;\n\n    if (href === undefined) {\n      return this.toString();\n    }\n\n    this._string = '';\n    this._parts = URI._parts();\n\n    var _URI = href instanceof URI;\n    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);\n    if (href.nodeName) {\n      var attribute = URI.getDomAttribute(href);\n      href = href[attribute] || '';\n      _object = false;\n    }\n\n    // window.location is reported to be an object, but it's not the sort\n    // of object we're looking for:\n    // * location.protocol ends with a colon\n    // * location.query != object.search\n    // * location.hash != object.fragment\n    // simply serializing the unknown object should do the trick\n    // (for location, not for everything...)\n    if (!_URI && _object && href.pathname !== undefined) {\n      href = href.toString();\n    }\n\n    if (typeof href === 'string' || href instanceof String) {\n      this._parts = URI.parse(String(href), this._parts);\n    } else if (_URI || _object) {\n      var src = _URI ? href._parts : href;\n      for (key in src) {\n        if (key === 'query') { continue; }\n        if (hasOwn.call(this._parts, key)) {\n          this._parts[key] = src[key];\n        }\n      }\n      if (src.query) {\n        this.query(src.query, false);\n      }\n    } else {\n      throw new TypeError('invalid input');\n    }\n\n    this.build(!build);\n    return this;\n  };\n\n  // identification accessors\n  p.is = function(what) {\n    var ip = false;\n    var ip4 = false;\n    var ip6 = false;\n    var name = false;\n    var sld = false;\n    var idn = false;\n    var punycode = false;\n    var relative = !this._parts.urn;\n\n    if (this._parts.hostname) {\n      relative = false;\n      ip4 = URI.ip4_expression.test(this._parts.hostname);\n      ip6 = URI.ip6_expression.test(this._parts.hostname);\n      ip = ip4 || ip6;\n      name = !ip;\n      sld = name && SLD && SLD.has(this._parts.hostname);\n      idn = name && URI.idn_expression.test(this._parts.hostname);\n      punycode = name && URI.punycode_expression.test(this._parts.hostname);\n    }\n\n    switch (what.toLowerCase()) {\n      case 'relative':\n        return relative;\n\n      case 'absolute':\n        return !relative;\n\n      // hostname identification\n      case 'domain':\n      case 'name':\n        return name;\n\n      case 'sld':\n        return sld;\n\n      case 'ip':\n        return ip;\n\n      case 'ip4':\n      case 'ipv4':\n      case 'inet4':\n        return ip4;\n\n      case 'ip6':\n      case 'ipv6':\n      case 'inet6':\n        return ip6;\n\n      case 'idn':\n        return idn;\n\n      case 'url':\n        return !this._parts.urn;\n\n      case 'urn':\n        return !!this._parts.urn;\n\n      case 'punycode':\n        return punycode;\n    }\n\n    return null;\n  };\n\n  // component specific input validation\n  var _protocol = p.protocol;\n  var _port = p.port;\n  var _hostname = p.hostname;\n\n  p.protocol = function(v, build) {\n    if (v) {\n      // accept trailing ://\n      v = v.replace(/:(\\/\\/)?$/, '');\n\n      if (!v.match(URI.protocol_expression)) {\n        throw new TypeError('Protocol \"' + v + '\" contains characters other than [A-Z0-9.+-] or doesn\\'t start with [A-Z]');\n      }\n    }\n\n    return _protocol.call(this, v, build);\n  };\n  p.scheme = p.protocol;\n  p.port = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      if (v === 0) {\n        v = null;\n      }\n\n      if (v) {\n        v += '';\n        if (v.charAt(0) === ':') {\n          v = v.substring(1);\n        }\n\n        URI.ensureValidPort(v);\n      }\n    }\n    return _port.call(this, v, build);\n  };\n  p.hostname = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      var x = { preventInvalidHostname: this._parts.preventInvalidHostname };\n      var res = URI.parseHost(v, x);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      v = x.hostname;\n      if (this._parts.preventInvalidHostname) {\n        URI.ensureValidHostname(v, this._parts.protocol);\n      }\n    }\n\n    return _hostname.call(this, v, build);\n  };\n\n  // compound accessors\n  p.origin = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var protocol = this.protocol();\n      var authority = this.authority();\n      if (!authority) {\n        return '';\n      }\n\n      return (protocol ? protocol + '://' : '') + this.authority();\n    } else {\n      var origin = URI(v);\n      this\n        .protocol(origin.protocol())\n        .authority(origin.authority())\n        .build(!build);\n      return this;\n    }\n  };\n  p.host = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildHost(this._parts) : '';\n    } else {\n      var res = URI.parseHost(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.authority = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';\n    } else {\n      var res = URI.parseAuthority(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.userinfo = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var t = URI.buildUserinfo(this._parts);\n      return t ? t.substring(0, t.length -1) : t;\n    } else {\n      if (v[v.length-1] !== '@') {\n        v += '@';\n      }\n\n      URI.parseUserinfo(v, this._parts);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.resource = function(v, build) {\n    var parts;\n\n    if (v === undefined) {\n      return this.path() + this.search() + this.hash();\n    }\n\n    parts = URI.parse(v);\n    this._parts.path = parts.path;\n    this._parts.query = parts.query;\n    this._parts.fragment = parts.fragment;\n    this.build(!build);\n    return this;\n  };\n\n  // fraction accessors\n  p.subdomain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    // convenience, return \"www\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // grab domain and add another segment\n      var end = this._parts.hostname.length - this.domain().length - 1;\n      return this._parts.hostname.substring(0, end) || '';\n    } else {\n      var e = this._parts.hostname.length - this.domain().length;\n      var sub = this._parts.hostname.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(sub));\n\n      if (v && v.charAt(v.length - 1) !== '.') {\n        v += '.';\n      }\n\n      if (v.indexOf(':') !== -1) {\n        throw new TypeError('Domains cannot contain colons');\n      }\n\n      if (v) {\n        URI.ensureValidHostname(v, this._parts.protocol);\n      }\n\n      this._parts.hostname = this._parts.hostname.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.domain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // convenience, return \"example.org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // if hostname consists of 1 or 2 segments, it must be the domain\n      var t = this._parts.hostname.match(/\\./g);\n      if (t && t.length < 2) {\n        return this._parts.hostname;\n      }\n\n      // grab tld and add another segment\n      var end = this._parts.hostname.length - this.tld(build).length - 1;\n      end = this._parts.hostname.lastIndexOf('.', end -1) + 1;\n      return this._parts.hostname.substring(end) || '';\n    } else {\n      if (!v) {\n        throw new TypeError('cannot set domain empty');\n      }\n\n      if (v.indexOf(':') !== -1) {\n        throw new TypeError('Domains cannot contain colons');\n      }\n\n      URI.ensureValidHostname(v, this._parts.protocol);\n\n      if (!this._parts.hostname || this.is('IP')) {\n        this._parts.hostname = v;\n      } else {\n        var replace = new RegExp(escapeRegEx(this.domain()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.tld = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // return \"org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      var pos = this._parts.hostname.lastIndexOf('.');\n      var tld = this._parts.hostname.substring(pos + 1);\n\n      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {\n        return SLD.get(this._parts.hostname) || tld;\n      }\n\n      return tld;\n    } else {\n      var replace;\n\n      if (!v) {\n        throw new TypeError('cannot set TLD empty');\n      } else if (v.match(/[^a-zA-Z0-9-]/)) {\n        if (SLD && SLD.is(v)) {\n          replace = new RegExp(escapeRegEx(this.tld()) + '$');\n          this._parts.hostname = this._parts.hostname.replace(replace, v);\n        } else {\n          throw new TypeError('TLD \"' + v + '\" contains characters other than [A-Z0-9]');\n        }\n      } else if (!this._parts.hostname || this.is('IP')) {\n        throw new ReferenceError('cannot set TLD on non-domain host');\n      } else {\n        replace = new RegExp(escapeRegEx(this.tld()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.directory = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path && !this._parts.hostname) {\n        return '';\n      }\n\n      if (this._parts.path === '/') {\n        return '/';\n      }\n\n      var end = this._parts.path.length - this.filename().length - 1;\n      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');\n\n      return v ? URI.decodePath(res) : res;\n\n    } else {\n      var e = this._parts.path.length - this.filename().length;\n      var directory = this._parts.path.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(directory));\n\n      // fully qualifier directories begin with a slash\n      if (!this.is('relative')) {\n        if (!v) {\n          v = '/';\n        }\n\n        if (v.charAt(0) !== '/') {\n          v = '/' + v;\n        }\n      }\n\n      // directories always end with a slash\n      if (v && v.charAt(v.length - 1) !== '/') {\n        v += '/';\n      }\n\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.filename = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v !== 'string') {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var pos = this._parts.path.lastIndexOf('/');\n      var res = this._parts.path.substring(pos+1);\n\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      var mutatedDirectory = false;\n\n      if (v.charAt(0) === '/') {\n        v = v.substring(1);\n      }\n\n      if (v.match(/\\.?\\//)) {\n        mutatedDirectory = true;\n      }\n\n      var replace = new RegExp(escapeRegEx(this.filename()) + '$');\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n\n      if (mutatedDirectory) {\n        this.normalizePath(build);\n      } else {\n        this.build(!build);\n      }\n\n      return this;\n    }\n  };\n  p.suffix = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var filename = this.filename();\n      var pos = filename.lastIndexOf('.');\n      var s, res;\n\n      if (pos === -1) {\n        return '';\n      }\n\n      // suffix may only contain alnum characters (yup, I made this up.)\n      s = filename.substring(pos+1);\n      res = (/^[a-z0-9%]+$/i).test(s) ? s : '';\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      if (v.charAt(0) === '.') {\n        v = v.substring(1);\n      }\n\n      var suffix = this.suffix();\n      var replace;\n\n      if (!suffix) {\n        if (!v) {\n          return this;\n        }\n\n        this._parts.path += '.' + URI.recodePath(v);\n      } else if (!v) {\n        replace = new RegExp(escapeRegEx('.' + suffix) + '$');\n      } else {\n        replace = new RegExp(escapeRegEx(suffix) + '$');\n      }\n\n      if (replace) {\n        v = URI.recodePath(v);\n        this._parts.path = this._parts.path.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.segment = function(segment, v, build) {\n    var separator = this._parts.urn ? ':' : '/';\n    var path = this.path();\n    var absolute = path.substring(0, 1) === '/';\n    var segments = path.split(separator);\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      throw new Error('Bad segment \"' + segment + '\", must be 0-based integer');\n    }\n\n    if (absolute) {\n      segments.shift();\n    }\n\n    if (segment < 0) {\n      // allow negative indexes to address from the end\n      segment = Math.max(segments.length + segment, 0);\n    }\n\n    if (v === undefined) {\n      /*jshint laxbreak: true */\n      return segment === undefined\n        ? segments\n        : segments[segment];\n      /*jshint laxbreak: false */\n    } else if (segment === null || segments[segment] === undefined) {\n      if (isArray(v)) {\n        segments = [];\n        // collapse empty elements within array\n        for (var i=0, l=v.length; i < l; i++) {\n          if (!v[i].length && (!segments.length || !segments[segments.length -1].length)) {\n            continue;\n          }\n\n          if (segments.length && !segments[segments.length -1].length) {\n            segments.pop();\n          }\n\n          segments.push(trimSlashes(v[i]));\n        }\n      } else if (v || typeof v === 'string') {\n        v = trimSlashes(v);\n        if (segments[segments.length -1] === '') {\n          // empty trailing elements have to be overwritten\n          // to prevent results such as /foo//bar\n          segments[segments.length -1] = v;\n        } else {\n          segments.push(v);\n        }\n      }\n    } else {\n      if (v) {\n        segments[segment] = trimSlashes(v);\n      } else {\n        segments.splice(segment, 1);\n      }\n    }\n\n    if (absolute) {\n      segments.unshift('');\n    }\n\n    return this.path(segments.join(separator), build);\n  };\n  p.segmentCoded = function(segment, v, build) {\n    var segments, i, l;\n\n    if (typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (v === undefined) {\n      segments = this.segment(segment, v, build);\n      if (!isArray(segments)) {\n        segments = segments !== undefined ? URI.decode(segments) : undefined;\n      } else {\n        for (i = 0, l = segments.length; i < l; i++) {\n          segments[i] = URI.decode(segments[i]);\n        }\n      }\n\n      return segments;\n    }\n\n    if (!isArray(v)) {\n      v = (typeof v === 'string' || v instanceof String) ? URI.encode(v) : v;\n    } else {\n      for (i = 0, l = v.length; i < l; i++) {\n        v[i] = URI.encode(v[i]);\n      }\n    }\n\n    return this.segment(segment, v, build);\n  };\n\n  // mutating query string\n  var q = p.query;\n  p.query = function(v, build) {\n    if (v === true) {\n      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    } else if (typeof v === 'function') {\n      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n      var result = v.call(this, data);\n      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else if (v !== undefined && typeof v !== 'string') {\n      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else {\n      return q.call(this, v, build);\n    }\n  };\n  p.setQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n\n    if (typeof name === 'string' || name instanceof String) {\n      data[name] = value !== undefined ? value : null;\n    } else if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          data[key] = name[key];\n        }\n      }\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.addQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.addQuery(data, name, value === undefined ? null : value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.removeQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.removeQuery(data, name, value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.hasQuery = function(name, value, withinArray) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    return URI.hasQuery(data, name, value, withinArray);\n  };\n  p.setSearch = p.setQuery;\n  p.addSearch = p.addQuery;\n  p.removeSearch = p.removeQuery;\n  p.hasSearch = p.hasQuery;\n\n  // sanitizing URLs\n  p.normalize = function() {\n    if (this._parts.urn) {\n      return this\n        .normalizeProtocol(false)\n        .normalizePath(false)\n        .normalizeQuery(false)\n        .normalizeFragment(false)\n        .build();\n    }\n\n    return this\n      .normalizeProtocol(false)\n      .normalizeHostname(false)\n      .normalizePort(false)\n      .normalizePath(false)\n      .normalizeQuery(false)\n      .normalizeFragment(false)\n      .build();\n  };\n  p.normalizeProtocol = function(build) {\n    if (typeof this._parts.protocol === 'string') {\n      this._parts.protocol = this._parts.protocol.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeHostname = function(build) {\n    if (this._parts.hostname) {\n      if (this.is('IDN') && punycode) {\n        this._parts.hostname = punycode.toASCII(this._parts.hostname);\n      } else if (this.is('IPv6') && IPv6) {\n        this._parts.hostname = IPv6.best(this._parts.hostname);\n      }\n\n      this._parts.hostname = this._parts.hostname.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePort = function(build) {\n    // remove port of it's the protocol's default\n    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {\n      this._parts.port = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePath = function(build) {\n    var _path = this._parts.path;\n    if (!_path) {\n      return this;\n    }\n\n    if (this._parts.urn) {\n      this._parts.path = URI.recodeUrnPath(this._parts.path);\n      this.build(!build);\n      return this;\n    }\n\n    if (this._parts.path === '/') {\n      return this;\n    }\n\n    _path = URI.recodePath(_path);\n\n    var _was_relative;\n    var _leadingParents = '';\n    var _parent, _pos;\n\n    // handle relative paths\n    if (_path.charAt(0) !== '/') {\n      _was_relative = true;\n      _path = '/' + _path;\n    }\n\n    // handle relative files (as opposed to directories)\n    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {\n      _path += '/';\n    }\n\n    // resolve simples\n    _path = _path\n      .replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g, '/')\n      .replace(/\\/{2,}/g, '/');\n\n    // remember leading parents\n    if (_was_relative) {\n      _leadingParents = _path.substring(1).match(/^(\\.\\.\\/)+/) || '';\n      if (_leadingParents) {\n        _leadingParents = _leadingParents[0];\n      }\n    }\n\n    // resolve parents\n    while (true) {\n      _parent = _path.search(/\\/\\.\\.(\\/|$)/);\n      if (_parent === -1) {\n        // no more ../ to resolve\n        break;\n      } else if (_parent === 0) {\n        // top level cannot be relative, skip it\n        _path = _path.substring(3);\n        continue;\n      }\n\n      _pos = _path.substring(0, _parent).lastIndexOf('/');\n      if (_pos === -1) {\n        _pos = _parent;\n      }\n      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);\n    }\n\n    // revert to relative\n    if (_was_relative && this.is('relative')) {\n      _path = _leadingParents + _path.substring(1);\n    }\n\n    this._parts.path = _path;\n    this.build(!build);\n    return this;\n  };\n  p.normalizePathname = p.normalizePath;\n  p.normalizeQuery = function(build) {\n    if (typeof this._parts.query === 'string') {\n      if (!this._parts.query.length) {\n        this._parts.query = null;\n      } else {\n        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));\n      }\n\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeFragment = function(build) {\n    if (!this._parts.fragment) {\n      this._parts.fragment = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeSearch = p.normalizeQuery;\n  p.normalizeHash = p.normalizeFragment;\n\n  p.iso8859 = function() {\n    // expect unicode input, iso8859 output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = escape;\n    URI.decode = decodeURIComponent;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.unicode = function() {\n    // expect iso8859 input, unicode output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = unescape;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.readable = function() {\n    var uri = this.clone();\n    // removing username, password, because they shouldn't be displayed according to RFC 3986\n    uri.username('').password('').normalize();\n    var t = '';\n    if (uri._parts.protocol) {\n      t += uri._parts.protocol + '://';\n    }\n\n    if (uri._parts.hostname) {\n      if (uri.is('punycode') && punycode) {\n        t += punycode.toUnicode(uri._parts.hostname);\n        if (uri._parts.port) {\n          t += ':' + uri._parts.port;\n        }\n      } else {\n        t += uri.host();\n      }\n    }\n\n    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {\n      t += '/';\n    }\n\n    t += uri.path(true);\n    if (uri._parts.query) {\n      var q = '';\n      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {\n        var kv = (qp[i] || '').split('=');\n        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace)\n          .replace(/&/g, '%26');\n\n        if (kv[1] !== undefined) {\n          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace)\n            .replace(/&/g, '%26');\n        }\n      }\n      t += '?' + q.substring(1);\n    }\n\n    t += URI.decodeQuery(uri.hash(), true);\n    return t;\n  };\n\n  // resolving relative and absolute URLs\n  p.absoluteTo = function(base) {\n    var resolved = this.clone();\n    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];\n    var basedir, i, p;\n\n    if (this._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    if (!(base instanceof URI)) {\n      base = new URI(base);\n    }\n\n    if (resolved._parts.protocol) {\n      // Directly returns even if this._parts.hostname is empty.\n      return resolved;\n    } else {\n      resolved._parts.protocol = base._parts.protocol;\n    }\n\n    if (this._parts.hostname) {\n      return resolved;\n    }\n\n    for (i = 0; (p = properties[i]); i++) {\n      resolved._parts[p] = base._parts[p];\n    }\n\n    if (!resolved._parts.path) {\n      resolved._parts.path = base._parts.path;\n      if (!resolved._parts.query) {\n        resolved._parts.query = base._parts.query;\n      }\n    } else {\n      if (resolved._parts.path.substring(-2) === '..') {\n        resolved._parts.path += '/';\n      }\n\n      if (resolved.path().charAt(0) !== '/') {\n        basedir = base.directory();\n        basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';\n        resolved._parts.path = (basedir ? (basedir + '/') : '') + resolved._parts.path;\n        resolved.normalizePath();\n      }\n    }\n\n    resolved.build();\n    return resolved;\n  };\n  p.relativeTo = function(base) {\n    var relative = this.clone().normalize();\n    var relativeParts, baseParts, common, relativePath, basePath;\n\n    if (relative._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    base = new URI(base).normalize();\n    relativeParts = relative._parts;\n    baseParts = base._parts;\n    relativePath = relative.path();\n    basePath = base.path();\n\n    if (relativePath.charAt(0) !== '/') {\n      throw new Error('URI is already relative');\n    }\n\n    if (basePath.charAt(0) !== '/') {\n      throw new Error('Cannot calculate a URI relative to another relative URI');\n    }\n\n    if (relativeParts.protocol === baseParts.protocol) {\n      relativeParts.protocol = null;\n    }\n\n    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {\n      return relative.build();\n    }\n\n    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {\n      return relative.build();\n    }\n\n    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {\n      relativeParts.hostname = null;\n      relativeParts.port = null;\n    } else {\n      return relative.build();\n    }\n\n    if (relativePath === basePath) {\n      relativeParts.path = '';\n      return relative.build();\n    }\n\n    // determine common sub path\n    common = URI.commonPath(relativePath, basePath);\n\n    // If the paths have nothing in common, return a relative URL with the absolute path.\n    if (!common) {\n      return relative.build();\n    }\n\n    var parents = baseParts.path\n      .substring(common.length)\n      .replace(/[^\\/]*$/, '')\n      .replace(/.*?\\//g, '../');\n\n    relativeParts.path = (parents + relativeParts.path.substring(common.length)) || './';\n\n    return relative.build();\n  };\n\n  // comparing URIs\n  p.equals = function(uri) {\n    var one = this.clone();\n    var two = new URI(uri);\n    var one_map = {};\n    var two_map = {};\n    var checked = {};\n    var one_query, two_query, key;\n\n    one.normalize();\n    two.normalize();\n\n    // exact match\n    if (one.toString() === two.toString()) {\n      return true;\n    }\n\n    // extract query string\n    one_query = one.query();\n    two_query = two.query();\n    one.query('');\n    two.query('');\n\n    // definitely not equal if not even non-query parts match\n    if (one.toString() !== two.toString()) {\n      return false;\n    }\n\n    // query parameters have the same length, even if they're permuted\n    if (one_query.length !== two_query.length) {\n      return false;\n    }\n\n    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);\n    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);\n\n    for (key in one_map) {\n      if (hasOwn.call(one_map, key)) {\n        if (!isArray(one_map[key])) {\n          if (one_map[key] !== two_map[key]) {\n            return false;\n          }\n        } else if (!arraysEqual(one_map[key], two_map[key])) {\n          return false;\n        }\n\n        checked[key] = true;\n      }\n    }\n\n    for (key in two_map) {\n      if (hasOwn.call(two_map, key)) {\n        if (!checked[key]) {\n          // two contains a parameter not present in one\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  // state\n  p.preventInvalidHostname = function(v) {\n    this._parts.preventInvalidHostname = !!v;\n    return this;\n  };\n\n  p.duplicateQueryParameters = function(v) {\n    this._parts.duplicateQueryParameters = !!v;\n    return this;\n  };\n\n  p.escapeQuerySpace = function(v) {\n    this._parts.escapeQuerySpace = !!v;\n    return this;\n  };\n\n  return URI;\n}));\n", "/**\n * Tagify (v 4.18.2) - tags input component\n * By undefined\n * https://github.com/yairEO/tagify\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n * \r\n * THE SOFTWARE IS NOT PERMISSIBLE TO BE SOLD.\n */\n\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Tagify=e()}(this,(function(){\"use strict\";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function e(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?t(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(t,e,i){return(e=function(t){var e=function(t,e){if(\"object\"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||\"default\");if(\"object\"!=typeof s)return s;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const s=(t,e,i,s)=>(t=\"\"+t,e=\"\"+e,s&&(t=t.trim(),e=e.trim()),i?t==e:t.toLowerCase()==e.toLowerCase()),a=(t,e)=>t&&Array.isArray(t)&&t.map((t=>n(t,e)));function n(t,e){var i,s={};for(i in t)e.indexOf(i)<0&&(s[i]=t[i]);return s}function o(t){var e=document.createElement(\"div\");return t.replace(/\\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}function r(t){return(new DOMParser).parseFromString(t.trim(),\"text/html\").body.firstElementChild}function l(t,e){for(e=e||\"previous\";t=t[e+\"Sibling\"];)if(3==t.nodeType)return t}function d(t){return\"string\"==typeof t?t.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/`|'/g,\"&#039;\"):t}function h(t){var e=Object.prototype.toString.call(t).split(\" \")[1].slice(0,-1);return t===Object(t)&&\"Array\"!=e&&\"Function\"!=e&&\"RegExp\"!=e&&\"HTMLUnknownElement\"!=e}function g(t,e,i){function s(t,e){for(var i in e)if(e.hasOwnProperty(i)){if(h(e[i])){h(t[i])?s(t[i],e[i]):t[i]=Object.assign({},e[i]);continue}if(Array.isArray(e[i])){t[i]=Object.assign([],e[i]);continue}t[i]=e[i]}}return t instanceof Object||(t={}),s(t,e),i&&s(t,i),t}function p(){const t=[],e={};for(let i of arguments)for(let s of i)h(s)?e[s.value]||(t.push(s),e[s.value]=1):t.includes(s)||t.push(s);return t}function c(t){return String.prototype.normalize?\"string\"==typeof t?t.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\"):void 0:t}var u=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function m(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function v(t){return t&&t.classList&&t.classList.contains(this.settings.classNames.tag)}function f(t,e){var i=window.getSelection();return e=e||i.getRangeAt(0),\"string\"==typeof t&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function T(t,e,i){return t?(e&&(t.__tagifyTagData=i?e:g({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn(\"tag element doesn't exist\",t,e),e)}function w(t){if(t&&t.parentNode){var e=t,i=window.getSelection(),s=i.getRangeAt(0);i.rangeCount&&(s.setStartAfter(e),s.collapse(!0),i.removeAllRanges(),i.addRange(s))}}function b(t,e){t.forEach((t=>{if(T(t.previousSibling)||!t.previousSibling){var i=document.createTextNode(\"\u200B\");t.before(i),e&&w(i)}}))}var y={delimiters:\",\",pattern:null,tagTextProp:\"value\",maxTags:1/0,callbacks:{},addTagOnBlur:!0,addTagOn:[\"blur\",\"tab\",\"enter\"],onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\\.|\\:|\\s/,mixTagsInterpolator:[\"[[\",\"]]\"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:\"\u00A0\"},autoComplete:{enabled:!0,rightKey:!1,tabKey:!1},classNames:{namespace:\"tagify\",mixMode:\"tagify--mix\",selectMode:\"tagify--select\",input:\"tagify__input\",focus:\"tagify--focus\",tagNoAnimation:\"tagify--noAnim\",tagInvalid:\"tagify--invalid\",tagNotAllowed:\"tagify--notAllowed\",scopeLoading:\"tagify--loading\",hasMaxTags:\"tagify--hasMaxTags\",hasNoTags:\"tagify--noTags\",empty:\"tagify--empty\",inputInvalid:\"tagify__input--invalid\",dropdown:\"tagify__dropdown\",dropdownWrapper:\"tagify__dropdown__wrapper\",dropdownHeader:\"tagify__dropdown__header\",dropdownFooter:\"tagify__dropdown__footer\",dropdownItem:\"tagify__dropdown__item\",dropdownItemActive:\"tagify__dropdown__item--active\",dropdownItemHidden:\"tagify__dropdown__item--hidden\",dropdownInital:\"tagify__dropdown--initial\",tag:\"tagify__tag\",tagText:\"tagify__tag-text\",tagX:\"tagify__tag__removeBtn\",tagLoading:\"tagify__tag--loading\",tagEditing:\"tagify__tag--editable\",tagFlash:\"tagify__tag--flash\",tagHide:\"tagify__tag--hide\"},dropdown:{classname:\"\",enabled:2,maxItems:10,searchKeys:[\"value\",\"searchBy\"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,escapeHTML:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:\"all\",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve(),beforeKeyDown:()=>Promise.resolve()}};function x(){this.dropdown={};for(let t in this._dropdown)this.dropdown[t]=\"function\"==typeof this._dropdown[t]?this._dropdown[t].bind(this):this._dropdown[t];this.dropdown.refs()}var O={refs(){this.DOM.dropdown=this.parseTemplate(\"dropdown\",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-wrapper']\")},getHeaderRef(){return this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-header']\")},getFooterRef(){return this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-footer']\")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(t){var e,i,a,n=this.settings,o=\"mix\"==n.mode&&!n.enforceWhitelist,r=!n.whitelist||!n.whitelist.length,l=\"manual\"==n.dropdown.position;if(t=void 0===t?this.state.inputText:t,!(r&&!o&&!n.templates.dropdownItemNoMatch||!1===n.dropdown.enable||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger(\"dropdown:noMatch\",t),n.templates.dropdownItemNoMatch&&(a=n.templates.dropdownItemNoMatch.call(this,{value:t}))),!a){if(this.suggestedListItems.length)t&&o&&!this.state.editing.scope&&!s(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!o||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}i=\"\"+(h(e=this.suggestedListItems[0])?e.value:e),n.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(a),n.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(n.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),l||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger(\"dropdown:show\",this.DOM.dropdown)}))}},hide(t){var e=this.DOM,i=e.scope,s=e.dropdown,a=\"manual\"==this.settings.dropdown.position&&!t;if(s&&document.body.contains(s)&&!a)return window.removeEventListener(\"resize\",this.dropdown.position),this.dropdown.events.binding.call(this,!1),i.setAttribute(\"aria-expanded\",!1),s.parentNode.removeChild(s),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger(\"dropdown:hide\",s),this},toggle(t){this.dropdown[this.state.dropdown.visible&&!t?\"hide\":\"show\"]()},render(){var t,e,i,s=(t=this.DOM.dropdown,(i=t.cloneNode(!0)).style.cssText=\"position:fixed; top:-9999px; opacity:0\",document.body.appendChild(i),e=i.clientHeight,i.parentNode.removeChild(i),e),a=this.settings;return\"number\"==typeof a.dropdown.enabled&&a.dropdown.enabled>=0?(this.DOM.scope.setAttribute(\"aria-expanded\",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(a.classNames.dropdownInital),this.dropdown.position(s),a.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(a.classNames.dropdownInital)))),this):this},fill(t){t=\"string\"==typeof t?t:this.dropdown.createListHTML(t||this.suggestedListItems);var e,i=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=(e=i)?e.replace(/\\>[\\r\\n ]+\\</g,\"><\").split(/>\\s+</).join(\"><\").trim():\"\"},fillHeaderFooter(){var t=this.dropdown.filterListItems(this.state.dropdown.query),e=this.parseTemplate(\"dropdownHeader\",[t]),i=this.parseTemplate(\"dropdownFooter\",[t]),s=this.dropdown.getHeaderRef(),a=this.dropdown.getFooterRef();e&&s?.parentNode.replaceChild(e,s),i&&a?.parentNode.replaceChild(i,a)},refilter(t){t=t||this.state.dropdown.query||\"\",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger(\"dropdown:updated\",this.DOM.dropdown)},position(t){var e=this.settings.dropdown;if(\"manual\"!=e.position){var i,s,a,n,o,r,l,d,h,g=this.DOM.dropdown,p=e.RTL,c=e.appendTarget===document.body,u=c?window.pageYOffset:e.appendTarget.scrollTop,m=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,v=m.clientHeight,f=Math.max(m.clientWidth||0,window.innerWidth||0)>480?e.position:\"all\",T=this.DOM[\"input\"==f?\"input\":\"scope\"];if(t=t||g.clientHeight,this.state.dropdown.visible){if(\"text\"==f?(a=(i=function(){const t=document.getSelection();if(t.rangeCount){const e=t.getRangeAt(0),i=e.startContainer,s=e.startOffset;let a,n;if(s>0)return n=document.createRange(),n.setStart(i,s-1),n.setEnd(i,s),a=n.getBoundingClientRect(),{left:a.right,top:a.top,bottom:a.bottom};if(i.getBoundingClientRect)return i.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,s=i.top,n=i.left,o=\"auto\"):(r=function(t){for(var e=0,i=0;t&&t!=m;)e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.parentNode;return{top:e,left:i}}(e.appendTarget),s=(i=T.getBoundingClientRect()).top-r.top,a=i.bottom-1-r.top,n=i.left-r.left,o=i.width+\"px\"),!c){let t=function(){for(var t=0,i=e.appendTarget.parentNode;i;)t+=i.scrollTop||0,i=i.parentNode;return t}();s+=t,a+=t}s=Math.floor(s),a=Math.ceil(a),d=((l=e.placeAbove??v-i.bottom<t)?s:a)+u,h=`left: ${n+(p&&i.width||0)+window.pageXOffset}px;`,g.style.cssText=`${h}; top: ${d}px; min-width: ${o}; max-width: ${o}`,g.setAttribute(\"placement\",l?\"top\":\"bottom\"),g.setAttribute(\"position\",f)}}},events:{binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},s=t?\"addEventListener\":\"removeEventListener\";\"manual\"!=this.settings.dropdown.position&&(document[s](\"scroll\",i.position,!0),window[s](\"resize\",i.position),window[s](\"keydown\",i.onKeyDown)),this.DOM.dropdown[s](\"mouseover\",i.onMouseOver),this.DOM.dropdown[s](\"mouseleave\",i.onMouseLeave),this.DOM.dropdown[s](\"mousedown\",i.onClick),this.DOM.dropdown.content[s](\"scroll\",i.onScroll)},callbacks:{onKeyDown(t){if(this.state.hasFocus&&!this.state.composing){var e=this.settings,i=this.DOM.dropdown.querySelector(e.classNames.dropdownItemActiveSelector),s=this.dropdown.getSuggestionDataByNode(i),a=\"mix\"==e.mode;e.hooks.beforeKeyDown(t,{tagify:this}).then((n=>{switch(t.key){case\"ArrowDown\":case\"ArrowUp\":case\"Down\":case\"Up\":t.preventDefault();var o=this.dropdown.getAllSuggestionsRefs(),r=\"ArrowUp\"==t.key||\"Up\"==t.key;i&&(i=this.dropdown.getNextOrPrevOption(i,!r)),i&&i.matches(e.classNames.dropdownItemSelector)||(i=o[r?o.length-1:0]),this.dropdown.highlightOption(i,!0);break;case\"Escape\":case\"Esc\":this.dropdown.hide();break;case\"ArrowRight\":if(this.state.actions.ArrowLeft)return;case\"Tab\":{let n=!e.autoComplete.rightKey||!e.autoComplete.tabKey;if(!a&&i&&n&&!this.state.editing){t.preventDefault();var l=this.dropdown.getMappedValue(s);return this.input.autocomplete.set.call(this,l),!1}return!0}case\"Enter\":t.preventDefault(),e.hooks.suggestionClick(t,{tagify:this,tagData:s,suggestionElm:i}).then((()=>{if(i)return this.dropdown.selectOption(i),i=this.dropdown.getNextOrPrevOption(i,!r),void this.dropdown.highlightOption(i);this.dropdown.hide(),a||this.addTags(this.state.inputText.trim(),!0)})).catch((t=>t));break;case\"Backspace\":{if(a||this.state.editing.scope)return;const t=this.input.raw.call(this);\"\"!=t&&8203!=t.charCodeAt(0)||(!0===e.backspace?this.removeTags():\"edit\"==e.backspace&&setTimeout(this.editTag.bind(this),0))}}}))}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);this.dropdown.highlightOption(e)},onMouseLeave(t){this.dropdown.highlightOption()},onClick(t){if(0==t.button&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var e=t.target.closest(this.settings.classNames.dropdownItemSelector),i=this.dropdown.getSuggestionDataByNode(e);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:e}).then((()=>{e?this.dropdown.selectOption(e,t):this.dropdown.hide()})).catch((t=>console.warn(t)))}},onScroll(t){var e=t.target,i=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger(\"dropdown:scroll\",{percentage:Math.round(i)})}}},getSuggestionDataByNode(t){var e=t&&t.getAttribute(\"value\");return this.suggestedListItems.find((t=>t.value==e))||null},getNextOrPrevOption(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i=this.dropdown.getAllSuggestionsRefs(),s=i.findIndex((e=>e===t));return e?i[s+1]:i[s-1]},highlightOption(t,e){var i,s=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(s),this.state.ddItemElm.removeAttribute(\"aria-selected\")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);i=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=i,this.state.ddItemElm=t,t.classList.add(s),t.setAttribute(\"aria-selected\",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,i),this.dropdown.position())},selectOption(t,e){var i=this.settings,s=i.dropdown,a=s.clearOnSelect,n=s.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(n&&this.dropdown.hide());e=e||{};var o=t.getAttribute(\"value\"),r=\"noMatch\"==o,l=this.suggestedListItems.find((t=>(t.value??t)==o));if(this.trigger(\"dropdown:select\",{data:l,elm:t,event:e}),o&&(l||r)){if(this.state.editing){let t=this.normalizeTags([l])[0];l=i.transformTag.call(this,t)||t,this.onEditTagDone(null,g({__isValid:!0},l))}else this[\"mix\"==i.mode?\"addMixTags\":\"addTags\"]([l||this.input.raw.call(this)],a);this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)})),n&&setTimeout(this.dropdown.hide.bind(this)),t.addEventListener(\"transitionend\",(()=>{this.dropdown.fillHeaderFooter(),setTimeout((()=>t.remove()),100)}),{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))}else n&&setTimeout(this.dropdown.hide.bind(this))},selectAll(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems(\"\");var e=this.dropdown.filterListItems(\"\");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems(t,e){var i,s,a,n,o,r=this.settings,l=r.dropdown,d=(e=e||{},[]),g=[],p=r.whitelist,u=l.maxItems>=0?l.maxItems:1/0,m=l.searchKeys,v=0;if(!(t=\"select\"==r.mode&&this.value.length&&this.value[0][r.tagTextProp]==t?\"\":t)||!m.length)return d=l.includeSelectedTags?p:p.filter((t=>!this.isTagDuplicate(h(t)?t.value:t))),this.state.dropdown.suggestions=d,d.slice(0,u);function f(t,e){return e.toLowerCase().split(\" \").every((e=>t.includes(e.toLowerCase())))}for(o=l.caseSensitive?\"\"+t:(\"\"+t).toLowerCase();v<p.length;v++){let t,r;i=p[v]instanceof Object?p[v]:{value:p[v]};let u=!Object.keys(i).some((t=>m.includes(t)))?[\"value\"]:m;l.fuzzySearch&&!e.exact?(a=u.reduce(((t,e)=>t+\" \"+(i[e]||\"\")),\"\").toLowerCase().trim(),l.accentedSearch&&(a=c(a),o=c(o)),t=0==a.indexOf(o),r=a===o,s=f(a,o)):(t=!0,s=u.some((t=>{var s=\"\"+(i[t]||\"\");return l.accentedSearch&&(s=c(s),o=c(o)),l.caseSensitive||(s=s.toLowerCase()),r=s===o,e.exact?s===o:0==s.indexOf(o)}))),n=!l.includeSelectedTags&&this.isTagDuplicate(h(i)?i.value:i),s&&!n&&(r&&t?g.push(i):\"startsWith\"==l.sortby&&t?d.unshift(i):d.push(i))}return this.state.dropdown.suggestions=g.concat(d),\"function\"==typeof l.sortby?l.sortby(g.concat(d),o):g.concat(d).slice(0,u)},getMappedValue(t){var e=this.settings.dropdown.mapValueTo;return e?\"function\"==typeof e?e(t):t[e]||t.value:t.value},createListHTML(t){return g([],t).map(((t,i)=>{\"string\"!=typeof t&&\"number\"!=typeof t||(t={value:t});var s=this.dropdown.getMappedValue(t);return s=\"string\"==typeof s&&this.settings.dropdown.escapeHTML?d(s):s,this.settings.templates.dropdownItem.apply(this,[e(e({},t),{},{mappedValue:s}),this])})).join(\"\")}};const D=\"@yaireo/tagify/\";var M,I={empty:\"empty\",exceed:\"number of tags exceeded\",pattern:\"pattern mismatch\",duplicate:\"already exists\",notAllowed:\"not allowed\"},N={wrapper:(t,e)=>`<tags class=\"${e.classNames.namespace} ${e.mode?`${e.classNames[e.mode+\"Mode\"]}`:\"\"} ${t.className}\"\\n                    ${e.readonly?\"readonly\":\"\"}\\n                    ${e.disabled?\"disabled\":\"\"}\\n                    ${e.required?\"required\":\"\"}\\n                    ${\"select\"===e.mode?\"spellcheck='false'\":\"\"}\\n                    tabIndex=\"-1\">\\n            <span ${!e.readonly&&e.userInput?\"contenteditable\":\"\"} tabIndex=\"0\" data-placeholder=\"${e.placeholder||\"&#8203;\"}\" aria-placeholder=\"${e.placeholder||\"\"}\"\\n                class=\"${e.classNames.input}\"\\n                role=\"textbox\"\\n                aria-autocomplete=\"both\"\\n                aria-multiline=\"${\"mix\"==e.mode}\"></span>\\n                &#8203;\\n        </tags>`,tag(t,e){let i=e.settings;return`<tag title=\"${t.title||t.value}\"\\n                    contenteditable='false'\\n                    spellcheck='false'\\n                    tabIndex=\"${i.a11y.focusableTags?0:-1}\"\\n                    class=\"${i.classNames.tag} ${t.class||\"\"}\"\\n                    ${this.getAttributes(t)}>\\n            <x title='' class=\"${i.classNames.tagX}\" role='button' aria-label='remove tag'></x>\\n            <div>\\n                <span class=\"${i.classNames.tagText}\">${t[i.tagTextProp]||t.value}</span>\\n            </div>\\n        </tag>`},dropdown(t){var e=t.dropdown;return`<div class=\"${\"manual\"==e.position?\"\":t.classNames.dropdown} ${e.classname}\" role=\"listbox\" aria-labelledby=\"dropdown\" dir=\"${e.RTL?\"rtl\":\"\"}\">\\n                    <div data-selector='tagify-suggestions-wrapper' class=\"${t.classNames.dropdownWrapper}\"></div>\\n                </div>`},dropdownContent(t){var e=this.settings.templates,i=this.state.dropdown.suggestions;return`\\n            ${e.dropdownHeader.call(this,i)}\\n            ${t}\\n            ${e.dropdownFooter.call(this,i)}\\n        `},dropdownItem(t){return`<div ${this.getAttributes(t)}\\n                    class='${this.settings.classNames.dropdownItem} ${t.class||\"\"}'\\n                    tabindex=\"0\"\\n                    role=\"option\">${t.mappedValue||t.value}</div>`},dropdownHeader(t){return`<header data-selector='tagify-suggestions-header' class=\"${this.settings.classNames.dropdownHeader}\"></header>`},dropdownFooter(t){var e=t.length-this.settings.dropdown.maxItems;return e>0?`<footer data-selector='tagify-suggestions-footer' class=\"${this.settings.classNames.dropdownFooter}\">\\n                ${e} more items. Refine your search.\\n            </footer>`:\"\"},dropdownItemNoMatch:null};var S={customBinding(){this.customEventsList.forEach((t=>{this.on(t,this.settings.callbacks[t])}))},binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i=this.events.callbacks,s=t?\"addEventListener\":\"removeEventListener\";if(!this.state.mainEvents||!t){for(var a in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on(\"tagify.removeAllTags\",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:[\"input\",i.onFocusBlur.bind(this)],keydown:[\"input\",i.onKeydown.bind(this)],click:[\"scope\",i.onClickScope.bind(this)],dblclick:[\"scope\",i.onDoubleClickScope.bind(this)],paste:[\"input\",i.onPaste.bind(this)],drop:[\"input\",i.onDrop.bind(this)],compositionstart:[\"input\",i.onCompositionStart.bind(this)],compositionend:[\"input\",i.onCompositionEnd.bind(this)]})this.DOM[e[a][0]][s](a,e[a][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(i.observeOriginalInputValue.bind(this),500);var n=this.listeners.main.inputMutationObserver||new MutationObserver(i.onInputDOMChange.bind(this));n.disconnect(),\"mix\"==this.settings.mode&&n.observe(this.DOM.input,{childList:!0})}},bindGlobal(t){var e,i=this.events.callbacks,s=t?\"removeEventListener\":\"addEventListener\";if(this.listeners&&(t||!this.listeners.global))for(e of(this.listeners.global=this.listeners.global||[{type:this.isIE?\"keydown\":\"input\",target:this.DOM.input,cb:i[this.isIE?\"onInputIE\":\"onInput\"].bind(this)},{type:\"keydown\",target:window,cb:i.onWindowKeyDown.bind(this)},{type:\"blur\",target:this.DOM.input,cb:i.onFocusBlur.bind(this)},{type:\"click\",target:document,cb:i.onClickAnywhere.bind(this)}],this.listeners.global))e.target[s](e.type,e.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(t){var e=this.settings,i=t.target?this.trim(t.target.textContent):\"\",s=this.value?.[0]?.[e.tagTextProp],a=t.type,n=e.dropdown.enabled>=0,o={relatedTarget:t.relatedTarget},r=this.state.actions.selectOption&&(n||!e.dropdown.closeOnSelect),l=this.state.actions.addNew&&n,d=t.relatedTarget&&v.call(this,t.relatedTarget)&&this.DOM.scope.contains(t.relatedTarget);if(\"blur\"==a){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),e.onChangeAfterBlur&&this.triggerChangeEvent()}if(!r&&!l)if(this.state.hasFocus=\"focus\"==a&&+new Date,this.toggleFocusClass(this.state.hasFocus),\"mix\"!=e.mode){if(\"focus\"==a)return this.trigger(\"focus\",o),void(0!==e.dropdown.enabled&&e.userInput||this.dropdown.show(this.value.length?\"\":void 0));\"blur\"==a&&(this.trigger(\"blur\",o),this.loading(!1),\"select\"==e.mode&&(d&&(this.removeTags(),i=\"\"),s===i&&(i=\"\")),i&&!this.state.actions.selectOption&&e.addTagOnBlur&&e.addTagOn.includes(\"blur\")&&this.addTags(i,!0)),this.DOM.input.removeAttribute(\"style\"),this.dropdown.hide()}else\"focus\"==a?this.trigger(\"focus\",o):\"blur\"==t.type&&(this.trigger(\"blur\",o),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(t){this.state.composing=!0},onCompositionEnd(t){this.state.composing=!1},onWindowKeyDown(t){var e,i=document.activeElement,s=v.call(this,i)&&this.DOM.scope.contains(document.activeElement),a=s&&i.hasAttribute(\"readonly\");if(s&&!a)switch(e=i.nextElementSibling,t.key){case\"Backspace\":this.settings.readonly||(this.removeTags(i),(e||this.DOM.input).focus());break;case\"Enter\":setTimeout(this.editTag.bind(this),0,i)}},onKeydown(t){var e=this.settings;if(!this.state.composing&&e.userInput){\"select\"==e.mode&&e.enforceWhitelist&&this.value.length&&\"Tab\"!=t.key&&t.preventDefault();var i=this.trim(t.target.textContent);this.trigger(\"keydown\",{event:t}),e.hooks.beforeKeyDown(t,{tagify:this}).then((s=>{if(\"mix\"==e.mode){switch(t.key){case\"Left\":case\"ArrowLeft\":this.state.actions.ArrowLeft=!0;break;case\"Delete\":case\"Backspace\":if(this.state.editing)return;var a=document.getSelection(),n=\"Delete\"==t.key&&a.anchorOffset==(a.anchorNode.length||0),r=a.anchorNode.previousSibling,d=1==a.anchorNode.nodeType||!a.anchorOffset&&r&&1==r.nodeType&&a.anchorNode.previousSibling;o(this.DOM.input.innerHTML);var h,g,p,c=this.getTagElms(),m=1===a.anchorNode.length&&a.anchorNode.nodeValue==String.fromCharCode(8203);if(\"edit\"==e.backspace&&d)return h=1==a.anchorNode.nodeType?null:a.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,h),void t.preventDefault();if(u()&&d instanceof Element)return p=l(d),d.hasAttribute(\"readonly\")||d.remove(),this.DOM.input.focus(),void setTimeout((()=>{w(p),this.DOM.input.click()}));if(\"BR\"==a.anchorNode.nodeName)return;if((n||d)&&1==a.anchorNode.nodeType?g=0==a.anchorOffset?n?c[0]:null:c[Math.min(c.length,a.anchorOffset)-1]:n?g=a.anchorNode.nextElementSibling:d instanceof Element&&(g=d),3==a.anchorNode.nodeType&&!a.anchorNode.nodeValue&&a.anchorNode.previousElementSibling&&t.preventDefault(),(d||n)&&!e.backspace)return void t.preventDefault();if(\"Range\"!=a.type&&!a.anchorOffset&&a.anchorNode==this.DOM.input&&\"Delete\"!=t.key)return void t.preventDefault();if(\"Range\"!=a.type&&g&&g.hasAttribute(\"readonly\"))return void w(l(g));\"Delete\"==t.key&&m&&T(a.anchorNode.nextSibling)&&this.removeTags(a.anchorNode.nextSibling),clearTimeout(M),M=setTimeout((()=>{var t=document.getSelection();o(this.DOM.input.innerHTML),!n&&t.anchorNode.previousSibling,this.value=[].map.call(c,((t,e)=>{var i=T(t);if(t.parentNode||i.readonly)return i;this.trigger(\"remove\",{tag:t,index:e,data:i})})).filter((t=>t))}),20)}return!0}var v=\"manual\"==e.dropdown.position;switch(t.key){case\"Backspace\":\"select\"==e.mode&&e.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&\"manual\"!=e.dropdown.position||\"\"!=t.target.textContent&&8203!=i.charCodeAt(0)||(!0===e.backspace?this.removeTags():\"edit\"==e.backspace&&setTimeout(this.editTag.bind(this),0));break;case\"Esc\":case\"Escape\":if(this.state.dropdown.visible)return;t.target.blur();break;case\"Down\":case\"ArrowDown\":this.state.dropdown.visible||this.dropdown.show();break;case\"ArrowRight\":{let t=this.state.inputSuggestion||this.state.ddItemData;if(t&&e.autoComplete.rightKey)return void this.addTags([t],!0);break}case\"Tab\":{let s=\"select\"==e.mode;if(!i||s)return!0;t.preventDefault()}case\"Enter\":if(this.state.dropdown.visible&&!v)return;t.preventDefault(),setTimeout((()=>{this.state.dropdown.visible&&!v||this.state.actions.selectOption||!e.addTagOn.includes(t.key.toLowerCase())||this.addTags(i,!0)}))}})).catch((t=>t))}},onInput(t){this.postUpdate();var e=this.settings;if(\"mix\"==e.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var i=this.input.normalize.call(this,void 0,{trim:!1}),s=i.length>=e.dropdown.enabled,a={value:i,inputElm:this.DOM.input},n=this.validateTag({value:i});\"select\"==e.mode&&this.toggleScopeValidation(n),a.isValid=n,console.log(this.state.inputText,i),this.state.inputText!=i&&(this.input.set.call(this,i,!1),-1!=i.search(e.delimiters)?this.addTags(i)&&this.input.set.call(this):e.dropdown.enabled>=0&&this.dropdown[s?\"show\":\"hide\"](i),this.trigger(\"input\",a))},onMixTagsInput(t){var e,i,s,a,n,o,r,l,d=this.settings,h=this.value.length,p=this.getTagElms(),c=document.createDocumentFragment(),m=window.getSelection().getRangeAt(0),v=[].map.call(p,(t=>T(t).value));if(\"deleteContentBackward\"==t.inputType&&u()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:\"Backspace\"}),b(this.getTagElms()),this.value.slice().forEach((t=>{t.readonly&&!v.includes(t.value)&&c.appendChild(this.createTagElem(t))})),c.childNodes.length&&(m.insertNode(c),this.setRangeAtStartEnd(!1,c.lastChild)),p.length!=h)return this.value=[].map.call(this.getTagElms(),(t=>T(t))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(o=window.getSelection()).rangeCount>0&&3==o.anchorNode.nodeType){if((m=o.getRangeAt(0).cloneRange()).collapse(!0),m.setStart(o.focusNode,0),s=(e=m.toString().slice(0,m.endOffset)).split(d.pattern).length-1,(i=e.match(d.pattern))&&(a=e.slice(e.lastIndexOf(i[i.length-1]))),a){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:a.match(d.pattern)[0],value:a.replace(d.pattern,\"\")},this.state.tag.baseOffset=o.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,\"\"),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();n=this.state.tag.value.length>=d.dropdown.enabled;try{r=(r=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&r.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(r||s<this.state.mixMode.matchedPatternCount)&&(n=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=s}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger(\"input\",g({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[n?\"show\":\"hide\"](this.state.tag.value)}),10)},onInputIE(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(t){t.target==this.DOM.scope||this.DOM.scope.contains(t.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(t){var e=this.settings,i=t.target.closest(\".\"+e.classNames.tag),s=+new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains(e.classNames.tagX))return i?(this.trigger(\"click\",{tag:i,index:this.getNodeIndex(i),data:T(i),event:t}),void(1!==e.editTags&&1!==e.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&(\"mix\"==e.mode&&this.fixFirefoxLastTagNoCaret(),s>500)?this.state.dropdown.visible?this.dropdown.hide():0===e.dropdown.enabled&&\"mix\"!=e.mode&&this.dropdown.show(this.value.length?\"\":void 0):\"select\"!=e.mode||0!==e.dropdown.enabled||this.state.dropdown.visible||this.dropdown.show());this.removeTags(t.target.parentNode)}else this.DOM.input.focus()},onPaste(t){t.preventDefault();var e,i,s=this.settings;if(\"select\"==s.mode&&s.enforceWhitelist||!s.userInput)return!1;s.readonly||(e=t.clipboardData||window.clipboardData,i=e.getData(\"Text\"),s.hooks.beforePaste(t,{tagify:this,pastedText:i,clipboardData:e}).then((e=>{void 0===e&&(e=i),e&&(this.injectAtCaret(e,window.getSelection().getRangeAt(0)),\"mix\"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,t):this.settings.pasteAsTags?this.addTags(this.state.inputText+e,!0):(this.state.inputText=e,this.dropdown.show(e)))})).catch((t=>t)))},onDrop(t){t.preventDefault()},onEditTagInput(t,e){var i=t.closest(\".\"+this.settings.classNames.tag),s=this.getNodeIndex(i),a=T(i),n=this.input.normalize.call(this,t),o={[this.settings.tagTextProp]:n,__tagId:a.__tagId},r=this.validateTag(o);this.editTagChangeDetected(g(a,o))||!0!==t.originalIsValid||(r=!0),i.classList.toggle(this.settings.classNames.tagInvalid,!0!==r),a.__isValid=r,i.title=!0===r?a.title||a.value:r,n.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=n),this.dropdown.show(n)),this.trigger(\"edit:input\",{tag:i,index:s,data:g({},this.value[s],{newValue:n}),event:e})},onEditTagPaste(t,e){var i=(e.clipboardData||window.clipboardData).getData(\"Text\");e.preventDefault();var s=f(i);this.setRangeAtStartEnd(!1,s)},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector(\"[contenteditable]\")}},onEditTagBlur(t){if(this.state.editing&&(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t))){var e,i,s=this.settings,a=t.closest(\".\"+s.classNames.tag),n=T(a),o=this.input.normalize.call(this,t),r={[s.tagTextProp]:o,__tagId:n.__tagId},l=n.__originalData,d=this.editTagChangeDetected(g(n,r)),h=this.validateTag(r);if(o)if(d){if(e=this.hasMaxTags(),i=g({},l,{[s.tagTextProp]:this.trim(o),__isValid:h}),s.transformTag.call(this,i,l),!0!==(h=(!e||!0===l.__isValid)&&this.validateTag(i))){if(this.trigger(\"invalid\",{data:i,tag:a,message:h}),s.editTags.keepInvalid)return;s.keepInvalidTags?i.__isValid=h:i=l}else s.keepInvalidTags&&(delete i.title,delete i[\"aria-invalid\"],delete i.class);this.onEditTagDone(a,i)}else this.onEditTagDone(a,l);else this.onEditTagDone(a)}},onEditTagkeydown(t,e){if(!this.state.composing)switch(this.trigger(\"edit:keydown\",{event:t}),t.key){case\"Esc\":case\"Escape\":this.state.editing=!1,e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e);break;case\"Enter\":case\"Tab\":t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,i,s=t.target.closest(\".\"+this.settings.classNames.tag),a=T(s),n=this.settings;s&&n.userInput&&!1!==a.editable&&(e=s.classList.contains(this.settings.classNames.tagEditing),i=s.hasAttribute(\"readonly\"),\"select\"==n.mode||n.readonly||e||i||!this.settings.editTags||this.editTag(s),this.toggleFocusClass(!0),this.trigger(\"dblclick\",{tag:s,index:this.getNodeIndex(s),data:T(s)}))},onInputDOMChange(t){t.forEach((t=>{t.addedNodes.forEach((t=>{if(\"<div><br></div>\"==t.outerHTML)t.replaceWith(document.createElement(\"br\"));else if(1==t.nodeType&&t.querySelector(this.settings.classNames.tagSelector)){let e=document.createTextNode(\"\");3==t.childNodes[0].nodeType&&\"BR\"!=t.previousSibling.nodeName&&(e=document.createTextNode(\"\\n\")),t.replaceWith(e,...[...t.childNodes].slice(0,-1)),w(e)}else if(v.call(this,t))if(3!=t.previousSibling?.nodeType||t.previousSibling.textContent||t.previousSibling.remove(),t.previousSibling&&\"BR\"==t.previousSibling.nodeName){t.previousSibling.replaceWith(\"\\n\u200B\");let e=t.nextSibling,i=\"\";for(;e;)i+=e.textContent,e=e.nextSibling;i.trim()&&w(t.previousSibling)}else t.previousSibling&&!T(t.previousSibling)||t.before(\"\u200B\")})),t.removedNodes.forEach((t=>{t&&\"BR\"==t.nodeName&&v.call(this,e)&&(this.removeTags(e),this.fixFirefoxLastTagNoCaret())}))}));var e=this.DOM.input.lastChild;e&&\"\"==e.nodeValue&&e.remove(),e&&\"BR\"==e.nodeName||this.DOM.input.appendChild(document.createElement(\"br\"))}}};function E(t,e){if(!t){console.warn(\"Tagify:\",\"input element not found\",t);const e=new Proxy(this,{get:()=>()=>e});return e}if(t.__tagify)return console.warn(\"Tagify: \",\"input element is already Tagified - Same instance is returned.\",t),t.__tagify;var i;g(this,function(t){var e=document.createTextNode(\"\");function i(t,i,s){s&&i.split(/\\s+/g).forEach((i=>e[t+\"EventListener\"].call(e,i,s)))}return{off(t,e){return i(\"remove\",t,e),this},on(t,e){return e&&\"function\"==typeof e&&i(\"add\",t,e),this},trigger(i,s,a){var n;if(a=a||{cloneData:!0},i)if(t.settings.isJQueryPlugin)\"remove\"==i&&(i=\"removeTag\"),jQuery(t.DOM.originalInput).triggerHandler(i,[s]);else{try{var o=\"object\"==typeof s?s:{value:s};if((o=a.cloneData?g({},o):o).tagify=this,s.event&&(o.event=this.cloneEvent(s.event)),s instanceof Object)for(var r in s)s[r]instanceof HTMLElement&&(o[r]=s[r]);n=new CustomEvent(i,{detail:o})}catch(t){console.warn(t)}e.dispatchEvent(n)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=e||{},this.getPersistedData=(i=e.id,t=>{let e,s=\"/\"+t;if(1==localStorage.getItem(D+i+\"/v\",1))try{e=JSON.parse(localStorage[D+i+s])}catch(t){}return e}),this.setPersistedData=(t=>t?(localStorage.setItem(D+t+\"/v\",1),(e,i)=>{let s=\"/\"+i,a=JSON.stringify(e);e&&i&&(localStorage.setItem(D+t+s,a),dispatchEvent(new Event(\"storage\")))}):()=>{})(e.id),this.clearPersistedData=(t=>e=>{const i=D+\"/\"+t+\"/\";if(e)localStorage.removeItem(i+e);else for(let t in localStorage)t.includes(i)&&localStorage.removeItem(t)})(e.id),this.applySettings(t,e),this.state={inputText:\"\",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),x.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}return E.prototype={_dropdown:O,getSetTagData:T,helpers:{sameStr:s,removeCollectionProp:a,omit:n,isObject:h,parseHTML:r,escapeHTML:d,extend:g,concatWithoutDups:p,getUID:m,isNodeTag:v},customEventsList:[\"change\",\"add\",\"remove\",\"invalid\",\"input\",\"click\",\"keydown\",\"focus\",\"blur\",\"edit:input\",\"edit:beforeUpdate\",\"edit:updated\",\"edit:start\",\"edit:keydown\",\"dropdown:show\",\"dropdown:hide\",\"dropdown:select\",\"dropdown:updated\",\"dropdown:noMatch\",\"dropdown:scroll\"],dataProps:[\"__isValid\",\"__removed\",\"__originalData\",\"__originalHTML\",\"__tagId\"],trim(t){return this.settings.trim&&t&&\"string\"==typeof t?t.trim():t},parseHTML:r,templates:N,parseTemplate(t,e){return r((t=this.settings.templates[t]||t).apply(this,e))},set whitelist(t){const e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],\"whitelist\")},get whitelist(){return this.settings.whitelist},generateClassSelectors(t){for(let e in t){let i=e;Object.defineProperty(t,i+\"Selector\",{get(){return\".\"+this[i].split(\" \")[0]}})}},applySettings(t,i){y.templates=this.templates;var s=g({},y,\"mix\"==i.mode?{dropdown:{position:\"text\"}}:{}),a=this.settings=g({},s,i);if(a.disabled=t.hasAttribute(\"disabled\"),a.readonly=a.readonly||t.hasAttribute(\"readonly\"),a.placeholder=d(t.getAttribute(\"placeholder\")||a.placeholder||\"\"),a.required=t.hasAttribute(\"required\"),this.generateClassSelectors(a.classNames),void 0===a.dropdown.includeSelectedTags&&(a.dropdown.includeSelectedTags=a.duplicates),this.isIE&&(a.autoComplete=!1),[\"whitelist\",\"blacklist\"].forEach((e=>{var i=t.getAttribute(\"data-\"+e);i&&(i=i.split(a.delimiters))instanceof Array&&(a[e]=i)})),\"autoComplete\"in i&&!h(i.autoComplete)&&(a.autoComplete=y.autoComplete,a.autoComplete.enabled=i.autoComplete),\"mix\"==a.mode&&(a.pattern=a.pattern||/@/,a.autoComplete.rightKey=!0,a.delimiters=i.delimiters||null,a.tagTextProp&&!a.dropdown.searchKeys.includes(a.tagTextProp)&&a.dropdown.searchKeys.push(a.tagTextProp)),t.pattern)try{a.pattern=new RegExp(t.pattern)}catch(t){}if(a.delimiters){a._delimiters=a.delimiters;try{a.delimiters=new RegExp(this.settings.delimiters,\"g\")}catch(t){}}a.disabled&&(a.userInput=!1),this.TEXTS=e(e({},I),a.texts||{}),(\"select\"!=a.mode||i.dropdown?.enabled)&&a.userInput||(a.dropdown.enabled=0),a.dropdown.appendTarget=i.dropdown?.appendTarget||document.body;let n=this.getPersistedData(\"whitelist\");Array.isArray(n)&&(this.whitelist=Array.isArray(a.whitelist)?p(a.whitelist,n):n)},getAttributes(t){var e,i=this.getCustomAttributes(t),s=\"\";for(e in i)s+=\" \"+e+(void 0!==t[e]?`=\"${i[e]}\"`:\"\");return s},getCustomAttributes(t){if(!h(t))return\"\";var e,i={};for(e in t)\"__\"!=e.slice(0,2)&&\"class\"!=e&&t.hasOwnProperty(e)&&void 0!==t[e]&&(i[e]=d(t[e]));return i},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars(){var t=getComputedStyle(this.DOM.scope,null);var e;this.CSSVars={tagHideTransition:(t=>{let e=t.value;return\"s\"==t.unit?1e3*e:e})(function(t){if(!t)return{};var e=(t=t.trim().split(\" \")[0]).split(/\\d+/g).filter((t=>t)).pop().trim();return{value:+t.split(e).filter((t=>t))[0].trim(),unit:e}}((e=\"tag-hide-transition\",t.getPropertyValue(\"--\"+e))))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate(\"wrapper\",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(t){var e,i=this.settings;if(this.state.blockChangeEvent=!0,void 0===t){const e=this.getPersistedData(\"value\");t=e&&!this.DOM.originalInput.value?e:i.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if(\"mix\"==i.mode)this.parseMixTags(t),(e=this.DOM.input.lastChild)&&\"BR\"==e.tagName||this.DOM.input.insertAdjacentHTML(\"beforeend\",\"<br>\");else{try{JSON.parse(t)instanceof Array&&(t=JSON.parse(t))}catch(t){}this.addTags(t,!0).forEach((t=>t&&t.classList.add(i.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=i.mixMode.integrated?\"\":this.DOM.originalInput.value},cloneEvent(t){var e={};for(var i in t)\"path\"!=i&&(e[i]=t[i]);return e},loading(t){return this.state.isLoading=t,this.DOM.scope.classList[t?\"add\":\"remove\"](this.settings.classNames.scopeLoading),this},tagLoading(t,e){return t&&t.classList[e?\"add\":\"remove\"](this.settings.classNames.tagLoading),this},toggleClass(t,e){\"string\"==typeof t&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation(t){var e=!0===t||void 0===t;!this.settings.required&&t&&t===this.TEXTS.empty&&(e=!0),this.toggleClass(this.settings.classNames.tagInvalid,!e),this.DOM.scope.title=e?\"\":t},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,i=new CustomEvent(\"change\",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(i),this.trigger(\"change\",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:S,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(t,e){if(e){t=\"number\"==typeof t?t:!!t,e=e.lastChild||e;var i=document.getSelection();if(i.focusNode instanceof Element&&!this.DOM.input.contains(i.focusNode))return!0;try{i.rangeCount>=1&&[\"Start\",\"End\"].forEach((s=>i.getRangeAt(0)[\"set\"+s](e,t||e.length)))}catch(t){console.warn(\"Tagify: \",t)}}},insertAfterTag(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e=\"string\"==typeof e?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected(t){var e=t.__originalData;for(var i in e)if(!this.dataProps.includes(i)&&t[i]!=e[i])return!0;return!1},getTagTextNode(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(t,e){this.getTagTextNode(t).innerHTML=d(e)},editTag(t,e){t=t||this.getLastTag(),e=e||{},this.dropdown.hide();var i=this.settings,s=this.getTagTextNode(t),a=this.getNodeIndex(t),n=T(t),o=this.events.callbacks,r=!0;if(s){if(!(n instanceof Object&&\"editable\"in n)||n.editable)return n=T(t,{__originalData:g({},n),__originalHTML:t.cloneNode(!0)}),T(n.__originalHTML,n.__originalData),s.setAttribute(\"contenteditable\",!0),t.classList.add(i.classNames.tagEditing),s.addEventListener(\"focus\",o.onEditTagFocus.bind(this,t)),s.addEventListener(\"blur\",o.onEditTagBlur.bind(this,this.getTagTextNode(t))),s.addEventListener(\"input\",o.onEditTagInput.bind(this,s)),s.addEventListener(\"paste\",o.onEditTagPaste.bind(this,s)),s.addEventListener(\"keydown\",(e=>o.onEditTagkeydown.call(this,e,t))),s.addEventListener(\"compositionstart\",o.onCompositionStart.bind(this)),s.addEventListener(\"compositionend\",o.onCompositionEnd.bind(this)),e.skipValidation||(r=this.editTagToggleValidity(t)),s.originalIsValid=r,this.trigger(\"edit:start\",{tag:t,index:a,data:n,isValid:r}),s.focus(),this.setRangeAtStartEnd(!1,s),this}else console.warn(\"Cannot find element in Tag template: .\",i.classNames.tagTextSelector)},editTagToggleValidity(t,e){var i;if(e=e||T(t))return(i=!(\"__isValid\"in e)||!0===e.__isValid)||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!i),e.__isValid=i,e.__isValid;console.warn(\"tag has no data: \",t,e)},onEditTagDone(t,e){t=t||this.state.editing.scope,e=e||{};var i,s={tag:t,index:this.getNodeIndex(t),previousData:T(t),data:e},a=this.settings;this.trigger(\"edit:beforeUpdate\",s,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&((i=e[a.tagTextProp])?i.trim()&&i:a.tagTextProp in e?void 0:e.value)?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),a.a11y.focusableTags?t.focus():w(t)):t&&this.removeTags(t),this.trigger(\"edit:updated\",s),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&g(e,this.getInvalidTagAttrs(e,e.__isValid));var i=this.createTagElem(e);return t.parentNode.replaceChild(i,t),this.updateValueByDOMTags(),i},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(t=>{t.classList.contains(this.settings.classNames.tagNotAllowed.split(\" \")[0])||this.value.push(T(t))})),this.update()},injectAtCaret(t,e){if(!(e=e||this.state.selection?.range)&&t)return this.appendMixTags(t),this;let i=f(t,e);return this.setRangeAtStartEnd(!1,i),this.updateValueByDOMTags(),this.update(),this},input:{set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=d(\"\"+t)),!t&&i&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var t=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize(t,e){var i=t||this.DOM.input,s=[];i.childNodes.forEach((t=>3==t.nodeType&&s.push(t.nodeValue))),s=s.join(\"\\n\");try{s=s.replace(/(?:\\r\\n|\\r|\\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return s=s.replace(/\\s/g,\" \"),e?.trim?this.trim(s):s},autocomplete:{suggest(t){if(this.settings.autoComplete.enabled){\"string\"==typeof(t=t||{value:\"\"})&&(t={value:t});var e=this.dropdown.getMappedValue(t);if(\"number\"!=typeof e){var i=e.substr(0,this.state.inputText.length).toLowerCase(),s=e.substring(this.state.inputText.length);e&&this.state.inputText&&i==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute(\"data-suggest\",s),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute(\"data-suggest\"),delete this.state.inputSuggestion)}}},set(t){var e=this.DOM.input.getAttribute(\"data-suggest\"),i=t||(e?this.state.inputText+e:null);return!!i&&(\"mix\"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+i)):(this.input.set.call(this,i),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(t){return this.value.findIndex((e=>e.__tagId==(t||{}).__tagId))},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=\".\"+[...this.settings.classNames.tag.split(\" \"),...e].join(\".\");return[].slice.call(this.DOM.scope.querySelectorAll(s))},getLastTag(){var t=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return t[t.length-1]},isTagDuplicate(t,e,i){var a=0;if(\"select\"==this.settings.mode)return!1;for(let n of this.value){s(this.trim(\"\"+t),n.value,e)&&i!=n.__tagId&&a++}return a},getTagIndexByValue(t){var e=[],i=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach(((a,n)=>{a.__tagifyTagData&&s(this.trim(a.__tagifyTagData.value),t,i)&&e.push(n)})),e},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{t.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((e=>(\"\"+e).toLowerCase()==t)).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,i){e=e||\"value\";var a,n=this.settings;return(i=i||n.whitelist).some((i=>{var o=\"string\"==typeof i?i:i[e]||i.value;if(s(o,t,n.dropdown.caseSensitive,n.trim))return a=\"string\"==typeof i?{value:i}:i,!0})),a||\"value\"!=e||\"value\"==n.tagTextProp||(a=this.getWhitelistItem(t,n.tagTextProp,i)),a},validateTag(t){var e=this.settings,i=\"value\"in t?\"value\":e.tagTextProp,s=this.trim(t[i]+\"\");return(t[i]+\"\").trim()?\"mix\"!=e.mode&&e.pattern&&e.pattern instanceof RegExp&&!e.pattern.test(s)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(s,e.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(s)||e.enforceWhitelist&&!this.isTagWhitelisted(s)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{\"aria-invalid\":!0,class:`${t.class||\"\"} ${this.settings.classNames.tagNotAllowed}`.trim(),title:e}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(t,e){var i=this.settings;document.activeElement.blur(),i[e||\"readonly\"]=t,this.DOM.scope[(t?\"set\":\"remove\")+\"Attribute\"](e||\"readonly\",!0),this.settings.userInput=!0,this.setContentEditable(!t)},setContentEditable(t){this.settings.userInput&&(this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1)},setDisabled(t){this.setReadonly(t,\"disabled\")},normalizeTags(t){var e=this.settings,i=e.whitelist,s=e.delimiters,a=e.mode,n=e.tagTextProp,o=[],r=!!i&&i[0]instanceof Object,l=Array.isArray(t),d=l&&t[0].value,h=t=>(t+\"\").split(s).filter((t=>t)).map((t=>({[n]:this.trim(t),value:this.trim(t)})));if(\"number\"==typeof t&&(t=t.toString()),\"string\"==typeof t){if(!t.trim())return[];t=h(t)}else l&&(t=[].concat(...t.map((t=>null!=t.value?t:h(t)))));return r&&!d&&(t.forEach((t=>{var e=o.map((t=>t.value)),i=this.dropdown.filterListItems.call(this,t[n],{exact:!0});this.settings.duplicates||(i=i.filter((t=>!e.includes(t.value))));var s=i.length>1?this.getWhitelistItem(t[n],n,i):i[0];s&&s instanceof Object?o.push(s):\"mix\"!=a&&(null==t.value&&(t.value=t[n]),o.push(t))})),o.length&&(t=o)),t},parseMixTags(t){var e=this.settings,i=e.mixTagsInterpolator,s=e.duplicates,a=e.transformTag,n=e.enforceWhitelist,o=e.maxTags,r=e.tagTextProp,l=[];t=t.split(i[0]).map(((t,e)=>{var d,h,g,p=t.split(i[1]),c=p[0],u=l.length==o;try{if(c==+c)throw Error;h=JSON.parse(c)}catch(t){h=this.normalizeTags(c)[0]||{value:c}}if(a.call(this,h),u||!(p.length>1)||n&&!this.isTagWhitelisted(h.value)||!s&&this.isTagDuplicate(h.value)){if(t)return e?i[0]+t:t}else h[d=h[r]?r:\"value\"]=this.trim(h[d]),g=this.createTagElem(h),l.push(h),g.classList.add(this.settings.classNames.tagNoAnimation),p[0]=g.outerHTML,this.value.push(h);return p.join(\"\")})).join(\"\"),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode(\"\")),this.DOM.input.normalize();var d=this.getTagElms();return d.forEach(((t,e)=>T(t,l[e]))),this.update({withoutChangeEvent:!0}),b(d,this.state.hasFocus),t},replaceTextWithNode(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var i,s,a=this.state.selection||window.getSelection(),n=a.anchorNode,o=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return n.splitText(a.anchorOffset-o),-1==(i=n.nodeValue.lastIndexOf(e))?!0:(s=n.splitText(i),t&&n.parentNode.replaceChild(t,s),!0)}},selectTag(t,e){var i=this.settings;if(!i.enforceWhitelist||this.isTagWhitelisted(e.value)){this.input.set.call(this,e[i.tagTextProp]||e.value,!0),this.state.actions.selectOption&&setTimeout((()=>this.setRangeAtStartEnd(!1,this.DOM.input)));var s=this.getLastTag();return s?this.replaceTag(s,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger(\"add\",{tag:t,data:e}),[t]}},addEmptyTag(t){var e=g({value:\"\"},t||{}),i=this.createTagElem(e);T(i,e),this.appendTag(i),this.editTag(i,{skipValidation:!0})},addTags(t,e,i){var s=[],a=this.settings,n=[],o=document.createDocumentFragment();if(i=i||a.skipInvalid,!t||0==t.length)return s;switch(t=this.normalizeTags(t),a.mode){case\"mix\":return this.addMixTags(t);case\"select\":e=!1,this.removeAllTags()}return this.DOM.input.removeAttribute(\"style\"),t.forEach((t=>{var e,r={},l=Object.assign({},t,{value:t.value+\"\"});if(t=Object.assign({},l),a.transformTag.call(this,t),t.__isValid=this.hasMaxTags()||this.validateTag(t),!0!==t.__isValid){if(i)return;if(g(r,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:l}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value)),!a.createInvalidTags)return void n.push(t.value)}if(\"readonly\"in t&&(t.readonly?r[\"aria-readonly\"]=!0:delete t.readonly),e=this.createTagElem(t,r),s.push(e),\"select\"==a.mode)return this.selectTag(e,t);o.appendChild(e),t.__isValid&&!0===t.__isValid?(this.value.push(t),this.trigger(\"add\",{tag:e,index:this.value.length-1,data:t})):(this.trigger(\"invalid\",{data:t,index:this.value.length,tag:e,message:t.__isValid}),a.keepInvalidTags||setTimeout((()=>this.removeTags(e,!0)),1e3)),this.dropdown.position()})),this.appendTag(o),this.update(),t.length&&e&&(this.input.set.call(this,a.createInvalidTags?\"\":n.join(a._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),a.dropdown.enabled&&this.dropdown.refilter(),s},addMixTags(t){if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var e=document.createDocumentFragment();return t.forEach((t=>{var i=this.createTagElem(t);e.appendChild(i)})),this.appendMixTags(e),e},appendMixTags(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(t){var e,i=this.settings,s=this.state.tag.delimiters;if(i.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(i.pattern.source||i.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),setTimeout((()=>e.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(t),this.update(),!s){var a=this.insertAfterTag(e)||e;setTimeout(w,0,a)}return this.state.tag=null,this.trigger(\"add\",g({},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,i=e.input;e.scope.insertBefore(t,i)},createTagElem(t,i){t.__tagId=m();var s,a=g({},t,e({value:d(t.value+\"\")},i));return function(t){for(var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=i.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}(s=this.parseTemplate(\"tag\",[a,this])),T(s,t),s},reCheckInvalidTags(){var t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach(((e,i)=>{var s=T(e),a=this.hasMaxTags(),n=this.validateTag(s),o=!0===n&&!a;if(\"select\"==t.mode&&this.toggleScopeValidation(n),o)return s=s.__preInvalidData?s.__preInvalidData:{value:s.value},this.replaceTag(e,s);e.title=a||n}))},removeTags(t,e,i){var s,a=this.settings;if(t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],s=t.reduce(((t,e)=>{e&&\"string\"==typeof e&&(e=this.getTagElmByValue(e));var i=T(e);return e&&i&&!i.readonly&&t.push({node:e,idx:this.getTagIdx(i),data:T(e,{__removed:!0})}),t}),[]),i=\"number\"==typeof i?i:this.CSSVars.tagHideTransition,\"select\"==a.mode&&(i=0,this.input.set.call(this)),1==s.length&&\"select\"!=a.mode&&s[0].node.classList.contains(a.classNames.tagNotAllowed)&&(e=!0),s.length)return a.hooks.beforeRemoveTag(s,{tagify:this}).then((()=>{function t(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?a.keepInvalidTags&&this.trigger(\"remove\",{tag:t.node,index:t.idx}):(this.trigger(\"remove\",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),a.keepInvalidTags&&this.reCheckInvalidTags()))}i&&i>10&&1==s.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+\"px\",document.body.clientTop,e.node.classList.add(a.classNames.tagHide),setTimeout(t.bind(this),i,e)}.call(this,s[0]):s.forEach(t.bind(this)),e||(this.removeTagsFromValue(s.map((t=>t.node))),this.update(),\"select\"==a.mode&&this.setContentEditable(!0))})).catch((t=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((t=>t.parentNode.removeChild(t)))},removeTagsFromValue(t){(t=Array.isArray(t)?t:[t]).forEach((t=>{var e=T(t),i=this.getTagIdx(e);i>-1&&this.value.splice(i,1)}))},removeAllTags(t){t=t||{},this.value=[],\"mix\"==this.settings.mode?this.DOM.input.innerHTML=\"\":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((()=>{this.DOM.input.focus()})),\"select\"==this.settings.mode&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(t)},postUpdate(){this.state.blockChangeEvent=!1;var t=this.settings,e=t.classNames,i=\"mix\"==t.mode?t.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(e.hasMaxTags,this.value.length>=t.maxTags),this.toggleClass(e.hasNoTags,!this.value.length),this.toggleClass(e.empty,!i),\"select\"==t.mode&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,\"value\"))},update(t){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var e=this.getInputValue();this.setOriginalInputValue(e),this.settings.onChangeAfterBlur&&(t||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent();this.postUpdate()}.bind(this),100)},getInputValue(){var t=this.getCleanValue();return\"mix\"==this.settings.mode?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):\"\"},getCleanValue(t){return a(t||this.value,this.dataProps)},getMixedTagsAsString(){var t=\"\",e=this,i=this.settings,s=i.originalInputValueFormat||JSON.stringify,a=i.mixTagsInterpolator;return function i(o){o.childNodes.forEach((o=>{if(1==o.nodeType){const r=T(o);if(\"BR\"==o.tagName&&(t+=\"\\r\\n\"),r&&v.call(e,o)){if(r.__removed)return;t+=a[0]+s(n(r,e.dataProps))+a[1]}else o.getAttribute(\"style\")||[\"B\",\"I\",\"U\"].includes(o.tagName)?t+=o.textContent:\"DIV\"!=o.tagName&&\"P\"!=o.tagName||(t+=\"\\r\\n\",i(o))}else t+=o.textContent}))}(this.DOM.input),t}},E.prototype.removeTag=E.prototype.removeTags,E}));\n", "/*\nStimulus 3.2.1\nCopyright \u00A9 2022 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[1];\n    let keyFilter = matches[2];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[3]),\n        eventName,\n        eventOptions: matches[6] ? parseEventOptions(matches[6]) : {},\n        identifier: matches[4],\n        methodName: matches[5],\n        keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    isFilterTarget(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filteres = this.keyFilter.split(\"+\");\n        const modifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\n        const [meta, ctrl, alt, shift] = modifiers.map((modifier) => filteres.includes(modifier));\n        if (event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift) {\n            return true;\n        }\n        const standardFilter = filteres.filter((key) => !modifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(event)) {\n            this.invokeWithEvent(event);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            const { params } = this.action;\n            const actionEvent = Object.assign(event, { params });\n            this.method.call(this.controller, actionEvent);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.isFilterTarget(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(node, attributeName) {\n        const element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details = {}) {\n        this.selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const matches = element.matches(this.selector);\n        if (this.delegate.selectorMatchElement) {\n            return matches && this.delegate.selectorMatchElement(element, this.details);\n        }\n        return matches;\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector)).filter((match) => this.matchElement(match));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        this.selectorMatched(element);\n    }\n    elementUnmatched(element) {\n        this.selectorUnmatched(element);\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const matches = this.matchElement(element);\n        const matchedBefore = this.matchesByElement.has(this.selector, element);\n        if (!matches && matchedBefore) {\n            this.selectorUnmatched(element);\n        }\n    }\n    selectorMatched(element) {\n        if (this.delegate.selectorMatched) {\n            this.delegate.selectorMatched(element, this.selector, this.details);\n            this.matchesByElement.add(this.selector, element);\n        }\n    }\n    selectorUnmatched(element) {\n        this.delegate.selectorUnmatched(element, this.selector, this.details);\n        this.matchesByElement.delete(this.selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n    }\n    start() {\n        if (this.selectorObserverMap.size === 0) {\n            this.outletDefinitions.forEach((outletName) => {\n                const selector = this.selector(outletName);\n                const details = { outletName };\n                if (selector) {\n                    this.selectorObserverMap.set(outletName, new SelectorObserver(document.body, selector, this, details));\n                }\n            });\n            this.selectorObserverMap.forEach((observer) => observer.start());\n        }\n        this.dependentContexts.forEach((context) => context.refresh());\n    }\n    stop() {\n        if (this.selectorObserverMap.size > 0) {\n            this.disconnectAllOutlets();\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        return (this.hasOutlet(element, outletName) &&\n            element.matches(`[${this.context.application.schema.controllerAttribute}~=${outletName}]`));\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad(definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outlet = this.outlets.find(name);\n                if (outlet) {\n                    const outletController = this.application.getControllerForElementAndIdentifier(outlet, name);\n                    if (outletController) {\n                        return outletController;\n                    }\n                    else {\n                        throw new Error(`Missing \"data-controller=${name}\" attribute on outlet element for \"${this.identifier}\" controller`);\n                    }\n                }\n                throw new Error(`Missing outlet element \"${name}\" for \"${this.identifier}\" controller`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outlet) => {\n                        const controller = this.application.getControllerForElementAndIdentifier(outlet, name);\n                        if (controller) {\n                            return controller;\n                        }\n                        else {\n                            console.warn(`The provided outlet element is missing the outlet controller \"${name}\" for \"${this.identifier}\"`, outlet);\n                        }\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outlet = this.outlets.find(name);\n                if (outlet) {\n                    return outlet;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const typeFromObject = parseValueTypeConstant(payload.typeObject.type);\n    if (!typeFromObject)\n        return;\n    const defaultValueType = parseValueTypeDefault(payload.typeObject.default);\n    if (typeFromObject !== defaultValueType) {\n        const propertyPath = payload.controller ? `${payload.controller}.${payload.token}` : payload.token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${payload.typeObject.default}\" is of type \"${defaultValueType}\".`);\n    }\n    return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const typeFromObject = parseValueTypeObject({\n        controller: payload.controller,\n        token: payload.token,\n        typeObject: payload.typeDefinition,\n    });\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(payload.typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = payload.controller ? `${payload.controller}.${payload.typeDefinition}` : payload.token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${payload.token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const defaultValue = typeDefinition.default;\n    if (defaultValue !== undefined)\n        return defaultValue;\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const key = `${dasherize(payload.token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(payload.typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(payload.typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value);\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n", "import { Controller } from '@hotwired/stimulus'\n\nexport default class extends Controller {\n  connect() {\n    const filterElement = this.context.element\n    const value = this.context.element.querySelector('#condition_selector')?.value\n    if (filterElement && value) {\n      this.evaluateConditionChange(filterElement, value)\n    }\n  }\n\n  onConditionChange(e) {\n    const { value } = e.target\n    const filterElement = e.target.closest('[data-filter-id]')\n    this.evaluateConditionChange(filterElement, value)\n  }\n\n  evaluateConditionChange(filterElement, value) {\n    const valueField = filterElement.querySelector('[data-control=\"value\"]')\n    const noValueConditions = ['is_present', 'is_blank', 'is_true', 'is_false', 'is_null', 'is_not_null']\n\n    if (noValueConditions.includes(value)) {\n      valueField.classList.add('hidden')\n    } else {\n      valueField.classList.remove('hidden')\n    }\n  }\n}\n", "export async function enter(element, transitionName = null) {\n    element.classList.remove('hidden')\n    await transition('enter', element, transitionName)\n}\n\nexport async function leave(element, transitionName = null) {\n    await transition('leave', element, transitionName)\n    element.classList.add('hidden')\n}\n\nexport async function toggle(element, transitionName = null) {\n    if (element.classList.contains('hidden')) {\n        await enter(element, transitionName)\n    } else {\n        await leave(element, transitionName)\n    }\n}\n\nasync function transition(direction, element, animation) {\n    const dataset = element.dataset\n    const animationClass = animation ? `${animation}-${direction}` : direction\n    let transition = `transition${direction.charAt(0).toUpperCase() + direction.slice(1)}`\n    const genesis = dataset[transition] ? dataset[transition].split(\" \") : [animationClass]\n    const start = dataset[`${transition}Start`] ? dataset[`${transition}Start`].split(\" \") : [`${animationClass}-start`]\n    const end = dataset[`${transition}End`] ? dataset[`${transition}End`].split(\" \") : [`${animationClass}-end`]\n\n    addClasses(element, genesis)\n    addClasses(element, start)\n    await nextFrame()\n    removeClasses(element, start)\n    addClasses(element, end);\n    await afterTransition(element)\n    removeClasses(element, end)\n    removeClasses(element, genesis)\n}\n\nfunction addClasses(element, classes) {\n    element.classList.add(...classes)\n}\n\nfunction removeClasses(element, classes) {\n    element.classList.remove(...classes)\n}\n\nfunction nextFrame() {\n    return new Promise(resolve => {\n        requestAnimationFrame(() => {\n            requestAnimationFrame(resolve)\n        });\n    });\n}\n\nfunction afterTransition(element) {\n    return new Promise(resolve => {\n        // safari return string with comma separate values\n        const computedDuration = getComputedStyle(element).transitionDuration.split(\",\")[0]\n        const duration = Number(computedDuration.replace('s', '')) * 1000;\n        setTimeout(() => {\n            resolve()\n        }, duration)\n    });\n}", "import { Controller } from '@hotwired/stimulus'\nimport { toggle } from 'el-transition'\nimport URI from 'urijs'\n\nexport default class extends Controller {\n  static targets = ['filter']\n\n  static values = {\n    turboFrame: String,\n    dynamicFiltersComponentId: String,\n  }\n\n  get paramKey() {\n    return window.Avo.configuration.avo_filters.param_key\n  }\n\n  get inTurboFrame() {\n    return true\n  }\n\n  // The apply method should take into account if this controller is being rendered on the root Index page (/resources/users) or in an association frame.\n  // If it's rendered in a frame we should compose the filtered URL from the frame URL, if not, from the current page URL.\n  apply() {\n    let url\n    if (this.turboFrameValue) {\n      // go and find that frame's URL\n      url = new URI(document.querySelector(`turbo-frame#${this.turboFrameValue}`).src)\n    } else {\n      url = new URI()\n    }\n\n    // Send the filters like so\n    // ?filters[first_name][is][]=11&filters[first_name][is][]=22&filters[first_name][is_not][]=22&filters[last_name][is_not][]=22\n    // That gives us a hash like so\n    // {\"filters\"=>{\"first_name\"=>{\"is\"=>[\"11\", \"22\"], \"is_not\"=>[\"22\"]}, \"last_name\"=>{\"is_not\"=>[\"22\"]}}, \"controller\"=>\"avo/projects\", \"action\"=>\"index\"}\n    // the \"is\" attirubte is an array so we can add multiple conditions on the same predicate\n    // Ex: first_name.not.empty && first_name.not_in.a\n\n    url.removeSearch(new RegExp(`${this.paramKey}`))\n\n    // Remove the page param so pagination is reset when filters are applied\n    url.removeSearch('page')\n\n    // traverse all the filters\n    this.filterTargets.forEach((el) => {\n      const id = el.dataset.fieldId\n      const condition = el.querySelector(\"[data-control='condition']\").value\n      const { value } = el.querySelector(\"[data-control='value']\")\n\n      // compose the url params with the conditions and values\n      url.setSearch(`${this.paramKey}[${id}][${condition}][]=${encodeURIComponent(value)}`)\n    })\n\n    // Transpose them to a URL\n    const finalUrl = url.readable().toString()\n\n    // Initiate a visit\n    // This is being done different depending if the filters are rendered in a frame or on the root level.\n    if (this.turboFrameValue) {\n      document.querySelector(`turbo-frame#${this.turboFrameValue}`).src = finalUrl\n    } else {\n      window.Turbo.visit(finalUrl)\n    }\n  }\n\n  toggleFilter() {\n    this.containerTarget.classList.toggle('hidden')\n  }\n\n  // Simulate the target because we're going to toggle an element that's ouside the controller container\n  get containerTarget() {\n    return document.getElementById(this.dynamicFiltersComponentIdValue)\n  }\n\n  async toggleFiltersArea() {\n    if (this.containerTarget) {\n      await toggle(this.containerTarget)\n      const isOpen = !this.containerTarget.classList.contains('hidden')\n\n      if (isOpen) {\n        document.querySelector(\n          `#${this.dynamicFiltersComponentIdValue} [data-avo-filters-target=\"add-filter-button\"]`,\n        ).click()\n      }\n    }\n  }\n\n  removeFilter(e) {\n    e.target.closest(\"[data-avo-filters-target='filter']\").remove()\n    this.apply()\n  }\n\n  resetFilters() {\n    const url = new URI()\n    url.removeSearch(new RegExp(`${this.paramKey}`))\n    window.Turbo.visit(url.readable().toString())\n  }\n}\n", "export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n", "export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n", "export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n", "export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n", "import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n", "import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n", "\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n", "import { Controller } from '@hotwired/stimulus'\nimport flatpickr from 'flatpickr'\n\nexport default class extends Controller {\n  static targets = ['input']\n\n  static values = {\n    pickerOptions: Object,\n  }\n\n  pickerOptions = {\n    onChange: this.pickerOnChange,\n  }\n\n  get filterId() {\n    return this.filterContainer.dataset.filterId\n  }\n\n  get filterContainer() {\n    return this.context.element.closest('[data-filter-id]')\n  }\n\n  get conditionTarget() {\n    return this.filterContainer?.querySelector(\"[data-control='condition'\")\n  }\n\n  get pickerModeFromCondition() {\n    return this.conditionTarget.value === 'is_within' ? 'range' : 'single'\n  }\n\n  connect() {\n    this.initFlatpickr()\n  }\n\n  initFlatpickr(extraOptions = {}) {\n    const options = {\n      mode: this.pickerModeFromCondition,\n    }\n\n    const allOptions = { ...options, ...this.pickerOptionsValue, ...extraOptions }\n\n    this.pickerInstance = flatpickr(this.inputTarget, allOptions)\n  }\n\n  destroyFlatpickr() {\n    if (this.pickerInstance) {\n      this.pickerInstance.destroy()\n    }\n  }\n\n  reloadFlatpickr(extraOptions) {\n    this.destroyFlatpickr()\n    this.initFlatpickr(extraOptions)\n  }\n\n  onConditionChange() {\n    this.reloadFlatpickr()\n  }\n\n  closePicker() {\n    if (this.pickerInstance.isOpen) {\n      setTimeout(() => {\n        this.pickerInstance.close()\n      }, 1)\n    }\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nimport Tagify from '@yaireo/tagify'\n\nexport function tagTemplate(tagData) {\n  const suggestions = this.settings.whitelist || []\n\n  const possibleSuggestion = suggestions.find(\n    // eslint-disable-next-line eqeqeq\n    (item) => item.value == tagData.value,\n  )\n  const possibleLabel = possibleSuggestion\n    ? possibleSuggestion.label\n    : tagData.value\n\n  return `\n<tag title=\"${tagData.value}\"\n  contenteditable='false'\n  spellcheck='false'\n  tabIndex=\"-1\"\n  class=\"tagify__tag ${tagData.class ? tagData.class : ''} !mb-1\"\n  ${this.getAttributes(tagData)}\n>\n  <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n  <div>\n      <span class='tagify__tag-text'>${possibleLabel}</span>\n  </div>\n</tag>\n`\n}\n\nexport function suggestionItemTemplate(tagData) {\n  return `\n<div ${this.getAttributes(tagData)}\n  class='tagify__dropdown__item flex items-center ${\n  tagData.class ? tagData.class : ''\n}'\n  tabindex=\"0\"\n  role=\"option\">\n  ${\n  tagData.avatar\n    ? `\n  <div class='rounded w-8 h-8 block mr-2'>\n      <img onerror=\"this.style.visibility='hidden'\" class=\"w-full\" src=\"${tagData.avatar}\">\n  </div>`\n    : ''\n}\n  <span>${tagData.value}</span>\n</div>\n`\n}\n\nexport default class extends Controller {\n  static targets = ['input']\n\n  static values = {\n    whitelistItems: { type: Array, default: [] },\n    enforceSuggestions: { type: Boolean, default: false },\n  }\n\n  get tagifyOptions() {\n    const options = {\n      whitelist: this.whitelistItemsValue,\n      enforceWhitelist: this.enforceSuggestionsValue || this.fetchValuesFromValue,\n      dropdown: {\n        maxItems: 20,\n        enabled: 0,\n        closeOnSelect: false,\n      },\n      templates: {\n        tag: tagTemplate,\n        dropdownItem: suggestionItemTemplate,\n      },\n      originalInputValueFormat: (valuesArr) => valuesArr.map((item) => item.value),\n    }\n\n    return options\n  }\n\n  connect() {\n    this.initTagify()\n  }\n\n  initTagify() {\n    this.tagify = new Tagify(this.inputTarget, this.tagifyOptions)\n  }\n}\n", "import AvoFilterController from './avo_filter_controller'\nimport AvoFiltersController from './avo_filters_controller'\nimport DateFilterController from './date_filter_controller'\nimport TagsFilterController from './tags_filter_controller'\n\nconst application = window.Stimulus\n\napplication.register('avo-filters', AvoFiltersController)\napplication.register('avo-filter', AvoFilterController)\napplication.register('date-filter', DateFilterController)\napplication.register('tags-filter', TagsFilterController)\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACC,OAAC,SAAS,MAAM;AAGhB,YAAI,cAAc,OAAO,WAAW,YAAY,WAC/C,CAAC,QAAQ,YAAY;AACtB,YAAI,aAAa,OAAO,UAAU,YAAY,UAC7C,CAAC,OAAO,YAAY;AACrB,YAAI,aAAa,OAAO,UAAU,YAAY;AAC9C,YACC,WAAW,WAAW,cACtB,WAAW,WAAW,cACtB,WAAW,SAAS,YACnB;AACD,iBAAO;AAAA,QACR;AAOA,YAAI,UAGJ,SAAS,YAGT,OAAO,IACP,OAAO,GACP,OAAO,IACP,OAAO,IACP,OAAO,KACP,cAAc,IACd,WAAW,KACX,YAAY,KAGZ,gBAAgB,SAChB,gBAAgB,gBAChB,kBAAkB,6BAGlB,SAAS;AAAA,UACR,YAAY;AAAA,UACZ,aAAa;AAAA,UACb,iBAAiB;AAAA,QAClB,GAGA,gBAAgB,OAAO,MACvB,QAAQ,KAAK,OACb,qBAAqB,OAAO,cAG5B;AAUA,iBAAS,MAAM,MAAM;AACpB,gBAAM,IAAI,WAAW,OAAO,KAAK;AAAA,QAClC;AAUA,iBAAS,IAAI,OAAO,IAAI;AACvB,cAAI,SAAS,MAAM;AACnB,cAAI,SAAS,CAAC;AACd,iBAAO,UAAU;AAChB,mBAAO,UAAU,GAAG,MAAM,OAAO;AAAA,UAClC;AACA,iBAAO;AAAA,QACR;AAYA,iBAAS,UAAU,QAAQ,IAAI;AAC9B,cAAI,QAAQ,OAAO,MAAM,GAAG;AAC5B,cAAI,SAAS;AACb,cAAI,MAAM,SAAS,GAAG;AAGrB,qBAAS,MAAM,KAAK;AACpB,qBAAS,MAAM;AAAA,UAChB;AAEA,mBAAS,OAAO,QAAQ,iBAAiB,GAAM;AAC/C,cAAI,SAAS,OAAO,MAAM,GAAG;AAC7B,cAAI,UAAU,IAAI,QAAQ,EAAE,EAAE,KAAK,GAAG;AACtC,iBAAO,SAAS;AAAA,QACjB;AAeA,iBAAS,WAAW,QAAQ;AAC3B,cAAI,SAAS,CAAC,GACV,UAAU,GACV,SAAS,OAAO,QAChB,OACA;AACJ,iBAAO,UAAU,QAAQ;AACxB,oBAAQ,OAAO,WAAW,SAAS;AACnC,gBAAI,SAAS,SAAU,SAAS,SAAU,UAAU,QAAQ;AAE3D,sBAAQ,OAAO,WAAW,SAAS;AACnC,mBAAK,QAAQ,UAAW,OAAQ;AAC/B,uBAAO,OAAO,QAAQ,SAAU,OAAO,QAAQ,QAAS,KAAO;AAAA,cAChE,OAAO;AAGN,uBAAO,KAAK,KAAK;AACjB;AAAA,cACD;AAAA,YACD,OAAO;AACN,qBAAO,KAAK,KAAK;AAAA,YAClB;AAAA,UACD;AACA,iBAAO;AAAA,QACR;AAUA,iBAAS,WAAW,OAAO;AAC1B,iBAAO,IAAI,OAAO,SAAS,OAAO;AACjC,gBAAI,SAAS;AACb,gBAAI,QAAQ,OAAQ;AACnB,uBAAS;AACT,wBAAU,mBAAmB,UAAU,KAAK,OAAQ,KAAM;AAC1D,sBAAQ,QAAS,QAAQ;AAAA,YAC1B;AACA,sBAAU,mBAAmB,KAAK;AAClC,mBAAO;AAAA,UACR,CAAC,EAAE,KAAK,EAAE;AAAA,QACX;AAWA,iBAAS,aAAa,WAAW;AAChC,cAAI,YAAY,KAAK,IAAI;AACxB,mBAAO,YAAY;AAAA,UACpB;AACA,cAAI,YAAY,KAAK,IAAI;AACxB,mBAAO,YAAY;AAAA,UACpB;AACA,cAAI,YAAY,KAAK,IAAI;AACxB,mBAAO,YAAY;AAAA,UACpB;AACA,iBAAO;AAAA,QACR;AAaA,iBAAS,aAAa,OAAO,MAAM;AAGlC,iBAAO,QAAQ,KAAK,MAAM,QAAQ,QAAQ,QAAQ,MAAM;AAAA,QACzD;AAOA,iBAAS,MAAM,OAAO,WAAW,WAAW;AAC3C,cAAI,IAAI;AACR,kBAAQ,YAAY,MAAM,QAAQ,IAAI,IAAI,SAAS;AACnD,mBAAS,MAAM,QAAQ,SAAS;AAChC,iBAA8B,QAAQ,gBAAgB,QAAQ,GAAG,KAAK,MAAM;AAC3E,oBAAQ,MAAM,QAAQ,aAAa;AAAA,UACpC;AACA,iBAAO,MAAM,KAAK,gBAAgB,KAAK,SAAS,QAAQ,KAAK;AAAA,QAC9D;AASA,iBAAS,OAAO,OAAO;AAEtB,cAAI,SAAS,CAAC,GACV,cAAc,MAAM,QACpB,KACA,IAAI,GACJ,IAAI,UACJ,OAAO,aACP,OACA,GACA,OACA,MACA,GACA,GACA,OACA,GAEA;AAMJ,kBAAQ,MAAM,YAAY,SAAS;AACnC,cAAI,QAAQ,GAAG;AACd,oBAAQ;AAAA,UACT;AAEA,eAAK,IAAI,GAAG,IAAI,OAAO,EAAE,GAAG;AAE3B,gBAAI,MAAM,WAAW,CAAC,KAAK,KAAM;AAChC,oBAAM,WAAW;AAAA,YAClB;AACA,mBAAO,KAAK,MAAM,WAAW,CAAC,CAAC;AAAA,UAChC;AAKA,eAAK,QAAQ,QAAQ,IAAI,QAAQ,IAAI,GAAG,QAAQ,eAAwC;AAOvF,iBAAK,OAAO,GAAG,IAAI,GAAG,IAAI,QAA0B,KAAK,MAAM;AAE9D,kBAAI,SAAS,aAAa;AACzB,sBAAM,eAAe;AAAA,cACtB;AAEA,sBAAQ,aAAa,MAAM,WAAW,OAAO,CAAC;AAE9C,kBAAI,SAAS,QAAQ,QAAQ,OAAO,SAAS,KAAK,CAAC,GAAG;AACrD,sBAAM,UAAU;AAAA,cACjB;AAEA,mBAAK,QAAQ;AACb,kBAAI,KAAK,OAAO,OAAQ,KAAK,OAAO,OAAO,OAAO,IAAI;AAEtD,kBAAI,QAAQ,GAAG;AACd;AAAA,cACD;AAEA,2BAAa,OAAO;AACpB,kBAAI,IAAI,MAAM,SAAS,UAAU,GAAG;AACnC,sBAAM,UAAU;AAAA,cACjB;AAEA,mBAAK;AAAA,YAEN;AAEA,kBAAM,OAAO,SAAS;AACtB,mBAAO,MAAM,IAAI,MAAM,KAAK,QAAQ,CAAC;AAIrC,gBAAI,MAAM,IAAI,GAAG,IAAI,SAAS,GAAG;AAChC,oBAAM,UAAU;AAAA,YACjB;AAEA,iBAAK,MAAM,IAAI,GAAG;AAClB,iBAAK;AAGL,mBAAO,OAAO,KAAK,GAAG,CAAC;AAAA,UAExB;AAEA,iBAAO,WAAW,MAAM;AAAA,QACzB;AASA,iBAAS,OAAO,OAAO;AACtB,cAAI,GACA,OACA,gBACA,aACA,MACA,GACA,GACA,GACA,GACA,GACA,cACA,SAAS,CAAC,GAEV,aAEA,uBACA,YACA;AAGJ,kBAAQ,WAAW,KAAK;AAGxB,wBAAc,MAAM;AAGpB,cAAI;AACJ,kBAAQ;AACR,iBAAO;AAGP,eAAK,IAAI,GAAG,IAAI,aAAa,EAAE,GAAG;AACjC,2BAAe,MAAM;AACrB,gBAAI,eAAe,KAAM;AACxB,qBAAO,KAAK,mBAAmB,YAAY,CAAC;AAAA,YAC7C;AAAA,UACD;AAEA,2BAAiB,cAAc,OAAO;AAMtC,cAAI,aAAa;AAChB,mBAAO,KAAK,SAAS;AAAA,UACtB;AAGA,iBAAO,iBAAiB,aAAa;AAIpC,iBAAK,IAAI,QAAQ,IAAI,GAAG,IAAI,aAAa,EAAE,GAAG;AAC7C,6BAAe,MAAM;AACrB,kBAAI,gBAAgB,KAAK,eAAe,GAAG;AAC1C,oBAAI;AAAA,cACL;AAAA,YACD;AAIA,oCAAwB,iBAAiB;AACzC,gBAAI,IAAI,IAAI,OAAO,SAAS,SAAS,qBAAqB,GAAG;AAC5D,oBAAM,UAAU;AAAA,YACjB;AAEA,sBAAU,IAAI,KAAK;AACnB,gBAAI;AAEJ,iBAAK,IAAI,GAAG,IAAI,aAAa,EAAE,GAAG;AACjC,6BAAe,MAAM;AAErB,kBAAI,eAAe,KAAK,EAAE,QAAQ,QAAQ;AACzC,sBAAM,UAAU;AAAA,cACjB;AAEA,kBAAI,gBAAgB,GAAG;AAEtB,qBAAK,IAAI,OAAO,IAAI,QAA0B,KAAK,MAAM;AACxD,sBAAI,KAAK,OAAO,OAAQ,KAAK,OAAO,OAAO,OAAO,IAAI;AACtD,sBAAI,IAAI,GAAG;AACV;AAAA,kBACD;AACA,4BAAU,IAAI;AACd,+BAAa,OAAO;AACpB,yBAAO;AAAA,oBACN,mBAAmB,aAAa,IAAI,UAAU,YAAY,CAAC,CAAC;AAAA,kBAC7D;AACA,sBAAI,MAAM,UAAU,UAAU;AAAA,gBAC/B;AAEA,uBAAO,KAAK,mBAAmB,aAAa,GAAG,CAAC,CAAC,CAAC;AAClD,uBAAO,MAAM,OAAO,uBAAuB,kBAAkB,WAAW;AACxE,wBAAQ;AACR,kBAAE;AAAA,cACH;AAAA,YACD;AAEA,cAAE;AACF,cAAE;AAAA,UAEH;AACA,iBAAO,OAAO,KAAK,EAAE;AAAA,QACtB;AAaA,iBAAS,UAAU,OAAO;AACzB,iBAAO,UAAU,OAAO,SAAS,QAAQ;AACxC,mBAAO,cAAc,KAAK,MAAM,IAC7B,OAAO,OAAO,MAAM,CAAC,EAAE,YAAY,CAAC,IACpC;AAAA,UACJ,CAAC;AAAA,QACF;AAaA,iBAAS,QAAQ,OAAO;AACvB,iBAAO,UAAU,OAAO,SAAS,QAAQ;AACxC,mBAAO,cAAc,KAAK,MAAM,IAC7B,SAAS,OAAO,MAAM,IACtB;AAAA,UACJ,CAAC;AAAA,QACF;AAKA,mBAAW;AAAA,UAMV,WAAW;AAAA,UAQX,QAAQ;AAAA,YACP,UAAU;AAAA,YACV,UAAU;AAAA,UACX;AAAA,UACA,UAAU;AAAA,UACV,UAAU;AAAA,UACV,WAAW;AAAA,UACX,aAAa;AAAA,QACd;AAKA,YACC,OAAO,UAAU,cACjB,OAAO,OAAO,OAAO,YACrB,OAAO,KACN;AACD,iBAAO,YAAY,WAAW;AAC7B,mBAAO;AAAA,UACR,CAAC;AAAA,QACF,WAAW,eAAe,YAAY;AACrC,cAAI,OAAO,WAAW,aAAa;AAElC,uBAAW,UAAU;AAAA,UACtB,OAAO;AAEN,iBAAK,OAAO,UAAU;AACrB,uBAAS,eAAe,GAAG,MAAM,YAAY,OAAO,SAAS;AAAA,YAC9D;AAAA,UACD;AAAA,QACD,OAAO;AAEN,eAAK,WAAW;AAAA,QACjB;AAAA,MAED,GAAE,OAAI;AAAA;AAAA;;;ACphBN;AAAA;AAcA,OAAC,SAAU,MAAM,SAAS;AACxB;AAEA,YAAI,OAAO,WAAW,YAAY,OAAO,SAAS;AAEhD,iBAAO,UAAU,QAAQ;AAAA,QAC3B,WAAW,OAAO,WAAW,cAAc,OAAO,KAAK;AAErD,iBAAO,OAAO;AAAA,QAChB,OAAO;AAEL,eAAK,OAAO,QAAQ,IAAI;AAAA,QAC1B;AAAA,MACF,GAAE,SAAM,SAAU,MAAM;AACtB;AAWA,YAAI,QAAQ,QAAQ,KAAK;AAEzB,iBAAS,iBAAiB,SAAS;AAWjC,cAAI,WAAW,QAAQ,YAAY;AACnC,cAAI,WAAW,SAAS,MAAM,GAAG;AACjC,cAAI,SAAS,SAAS;AACtB,cAAI,QAAQ;AAGZ,cAAI,SAAS,OAAO,MAAM,SAAS,OAAO,MAAM,SAAS,OAAO,IAAI;AAGlE,qBAAS,MAAM;AACf,qBAAS,MAAM;AAAA,UACjB,WAAW,SAAS,OAAO,MAAM,SAAS,OAAO,IAAI;AAGnD,qBAAS,MAAM;AAAA,UACjB,WAAW,SAAS,SAAS,OAAO,MAAM,SAAS,SAAS,OAAO,IAAI;AAErE,qBAAS,IAAI;AAAA,UACf;AAEA,mBAAS,SAAS;AAGlB,cAAI,SAAS,SAAS,GAAG,QAAQ,GAAG,MAAM,IAAI;AAE5C,oBAAQ;AAAA,UACV;AAGA,cAAI;AACJ,eAAK,MAAM,GAAG,MAAM,QAAQ,OAAO;AACjC,gBAAI,SAAS,SAAS,IAAI;AACxB;AAAA,YACF;AAAA,UACF;AAEA,cAAI,MAAM,OAAO;AACf,qBAAS,OAAO,KAAK,GAAG,MAAM;AAC9B,mBAAO,SAAS,SAAS,OAAO;AAC9B,uBAAS,OAAO,KAAK,GAAG,MAAM;AAAA,YAChC;AAAA,UACF;AAGA,cAAI;AACJ,mBAAS,IAAI,GAAG,IAAI,OAAO,KAAK;AAC9B,wBAAY,SAAS,GAAG,MAAM,EAAE;AAChC,qBAAS,IAAI,GAAG,IAAI,GAAI,KAAK;AAC3B,kBAAI,UAAU,OAAO,OAAO,UAAU,SAAS,GAAG;AAChD,0BAAU,OAAO,GAAE,CAAC;AAAA,cACtB,OAAO;AACL;AAAA,cACF;AAAA,YACF;AAEA,qBAAS,KAAK,UAAU,KAAK,EAAE;AAAA,UACjC;AAGA,cAAI,OAAO;AACX,cAAI,QAAQ;AACZ,cAAI,WAAW;AACf,cAAI,UAAU;AACd,cAAI,WAAW;AAGf,eAAK,IAAI,GAAG,IAAI,OAAO,KAAK;AAC1B,gBAAI,UAAU;AACZ,kBAAI,SAAS,OAAO,KAAK;AACvB,4BAAY;AAAA,cACd,OAAO;AACL,2BAAW;AACX,oBAAI,WAAW,OAAO;AACpB,yBAAO;AACP,0BAAQ;AAAA,gBACV;AAAA,cACF;AAAA,YACF,OAAO;AACL,kBAAI,SAAS,OAAO,KAAK;AACvB,2BAAW;AACX,0BAAU;AACV,2BAAW;AAAA,cACb;AAAA,YACF;AAAA,UACF;AAEA,cAAI,WAAW,OAAO;AACpB,mBAAO;AACP,oBAAQ;AAAA,UACV;AAEA,cAAI,QAAQ,GAAG;AACb,qBAAS,OAAO,MAAM,OAAO,EAAE;AAAA,UACjC;AAEA,mBAAS,SAAS;AAGlB,cAAI,SAAS;AACb,cAAI,SAAS,OAAO,IAAK;AACvB,qBAAS;AAAA,UACX;AAEA,eAAK,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC3B,sBAAU,SAAS;AACnB,gBAAI,MAAM,SAAS,GAAG;AACpB;AAAA,YACF;AAEA,sBAAU;AAAA,UACZ;AAEA,cAAI,SAAS,SAAS,OAAO,IAAI;AAC/B,sBAAU;AAAA,UACZ;AAEA,iBAAO;AAAA,QACT;AAEA,iBAAS,aAAa;AAEpB,cAAI,KAAK,SAAS,MAAM;AACtB,iBAAK,OAAO;AAAA,UACd;AAEA,iBAAO;AAAA,QACT;AAEA,eAAO;AAAA,UACL,MAAM;AAAA,UACN;AAAA,QACF;AAAA,MACF,CAAC;AAAA;AAAA;;;ACxLD;AAAA;AAcA,OAAC,SAAU,MAAM,SAAS;AACxB;AAEA,YAAI,OAAO,WAAW,YAAY,OAAO,SAAS;AAEhD,iBAAO,UAAU,QAAQ;AAAA,QAC3B,WAAW,OAAO,WAAW,cAAc,OAAO,KAAK;AAErD,iBAAO,OAAO;AAAA,QAChB,OAAO;AAEL,eAAK,qBAAqB,QAAQ,IAAI;AAAA,QACxC;AAAA,MACF,GAAE,SAAM,SAAU,MAAM;AACtB;AAGA,YAAI,sBAAsB,QAAQ,KAAK;AAEvC,YAAI,MAAM;AAAA,UAQR,MAAM;AAAA,YACJ,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YACL,MAAK;AAAA,YA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",
  "names": ["URI", "_part", "string", "_URI", "punycode", "q", "p", "t", "e", "i", "s", "a", "n", "o", "r", "l", "d", "h", "g", "p", "c", "u", "m", "v", "f", "T", "constructor", "transition", "duration", "URI", "_a", "source", "self", "toggle", "defaults", "element", "triggerChange", "month", "formats", "Tagify"]
}
